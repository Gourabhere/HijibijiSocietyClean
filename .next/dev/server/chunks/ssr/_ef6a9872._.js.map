{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/abc/Documents/GitHub/Hijibiji-Society-Clean/components/LoginPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { ArrowLeft, Users, Shield, Eye, EyeOff, LogIn, Loader2, Fingerprint, Delete, User, Lock } from 'lucide-react';\r\nimport { StaffMember } from '../types';\r\nimport { fetchStaffMembers } from '../services/supabaseDB';\r\n\r\ntype LoginScreen = 'role-select' | 'staff-select' | 'staff-pin' | 'admin-login';\r\n\r\nconst LoginPage: React.FC = () => {\r\n    const { loginAsStaff, loginAsAdmin } = useAuth();\r\n    const [screen, setScreen] = useState<LoginScreen>('role-select');\r\n    const [staffMembers, setStaffMembers] = useState<StaffMember[]>([]);\r\n    const [selectedStaff, setSelectedStaff] = useState<StaffMember | null>(null);\r\n    const [pin, setPin] = useState('');\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    // Fetch staff members from Supabase when entering staff select\r\n    useEffect(() => {\r\n        if (screen === 'staff-select' && staffMembers.length === 0) {\r\n            fetchStaffMembers()\r\n                .then(members => setStaffMembers(members))\r\n                .catch(() => setError('Could not load staff list.'));\r\n        }\r\n    }, [screen]);\r\n\r\n    const handleBack = () => {\r\n        setError('');\r\n        if (screen === 'staff-pin') { setScreen('staff-select'); setPin(''); }\r\n        else if (screen === 'staff-select' || screen === 'admin-login') { setScreen('role-select'); setPin(''); setUsername(''); setPassword(''); }\r\n    };\r\n\r\n    const handleStaffSelect = (staff: StaffMember) => {\r\n        setSelectedStaff(staff);\r\n        setPin('');\r\n        setError('');\r\n        setScreen('staff-pin');\r\n    };\r\n\r\n    const handlePinPress = (digit: string) => {\r\n        if (pin.length >= 4) return;\r\n        const newPin = pin + digit;\r\n        setPin(newPin);\r\n        setError('');\r\n\r\n        if (newPin.length === 4 && selectedStaff) {\r\n            handleStaffLogin(newPin);\r\n        }\r\n    };\r\n\r\n    const handlePinDelete = () => {\r\n        setPin(prev => prev.slice(0, -1));\r\n        setError('');\r\n    };\r\n\r\n    const handleStaffLogin = async (enteredPin: string) => {\r\n        if (!selectedStaff) return;\r\n        setLoading(true);\r\n        const { error: err } = await loginAsStaff(selectedStaff.id, selectedStaff.name, enteredPin);\r\n        if (err) {\r\n            setError(err);\r\n            setPin('');\r\n        }\r\n        setLoading(false);\r\n    };\r\n\r\n    const handleAdminLogin = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!username || !password) return;\r\n        setError('');\r\n        setLoading(true);\r\n\r\n        const { error: err } = await loginAsAdmin(username, password);\r\n        if (err) {\r\n            setError(err);\r\n        }\r\n        setLoading(false);\r\n    };\r\n\r\n    // ===== ROLE SELECT SCREEN =====\r\n    if (screen === 'role-select') {\r\n        return (\r\n            <div className=\"login-page\">\r\n                <div className=\"login-container\">\r\n                    <div className=\"login-brand animate-in\">\r\n                        <div className=\"login-logo\">\r\n                            <span className=\"login-logo-icon\">üè¢</span>\r\n                        </div>\r\n                        <h1 className=\"login-title\">SocietyClean</h1>\r\n                        <p className=\"login-subtitle\">Management Portal</p>\r\n                    </div>\r\n\r\n                    <div className=\"animate-in animate-in-delay-1\" style={{ display: 'flex', flexDirection: 'column', gap: 16 }}>\r\n                        <button\r\n                            className=\"login-role-card\"\r\n                            onClick={() => setScreen('staff-select')}\r\n                        >\r\n                            <div className=\"login-role-icon\" style={{ background: 'var(--green-light)' }}>\r\n                                <Users size={28} color=\"#059669\" />\r\n                            </div>\r\n                            <div>\r\n                                <div className=\"login-role-title\">Staff Login</div>\r\n                                <div className=\"login-role-desc\">Select your profile & enter PIN</div>\r\n                            </div>\r\n                        </button>\r\n\r\n                        <button\r\n                            className=\"login-role-card\"\r\n                            onClick={() => setScreen('admin-login')}\r\n                        >\r\n                            <div className=\"login-role-icon\" style={{ background: 'var(--blue-light)' }}>\r\n                                <Shield size={28} color=\"#2563eb\" />\r\n                            </div>\r\n                            <div>\r\n                                <div className=\"login-role-title\">Admin Login</div>\r\n                                <div className=\"login-role-desc\">Sign in to manage housekeeping</div>\r\n                            </div>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // ===== STAFF SELECT SCREEN =====\r\n    if (screen === 'staff-select') {\r\n        return (\r\n            <div className=\"login-page\">\r\n                <div className=\"login-container\" style={{ maxWidth: 420 }}>\r\n                    <div className=\"login-header animate-in\">\r\n                        <button className=\"login-back-btn\" onClick={handleBack}>\r\n                            <ArrowLeft size={20} />\r\n                        </button>\r\n                        <span className=\"login-header-title\">Staff Login</span>\r\n                        <div style={{ width: 42 }} />\r\n                    </div>\r\n\r\n                    <div className=\"animate-in animate-in-delay-1\" style={{ textAlign: 'center', marginBottom: 28 }}>\r\n                        <div className=\"login-hero-icon\" style={{ background: 'var(--green-light)' }}>\r\n                            <Users size={32} color=\"#059669\" />\r\n                        </div>\r\n                        <h2 style={{ fontSize: 18, fontWeight: 800, color: 'var(--text-primary)', textTransform: 'uppercase', letterSpacing: 1, marginBottom: 4 }}>\r\n                            Select Your Profile\r\n                        </h2>\r\n                        <p style={{ fontSize: 14, color: 'var(--text-muted)', fontWeight: 500 }}>\r\n                            Tap on your name to continue\r\n                        </p>\r\n                    </div>\r\n\r\n                    {error && (\r\n                        <div className=\"login-error\" style={{ marginBottom: 16, textAlign: 'center' }}>{error}</div>\r\n                    )}\r\n\r\n                    <div className=\"staff-grid animate-in animate-in-delay-2\">\r\n                        {staffMembers.map(staff => (\r\n                            <button\r\n                                key={staff.id}\r\n                                className=\"staff-card\"\r\n                                onClick={() => handleStaffSelect(staff)}\r\n                            >\r\n                                <div className=\"staff-avatar-ring\">\r\n                                    <img src={staff.avatar} alt={staff.name} className=\"staff-avatar-img\" />\r\n                                </div>\r\n                                <div className=\"staff-card-name\">{staff.name}</div>\r\n                                <div className=\"staff-card-info\">{staff.blockAssignment}</div>\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n\r\n                    {staffMembers.length === 0 && !error && (\r\n                        <div style={{ textAlign: 'center', padding: 40 }}>\r\n                            <Loader2 size={28} className=\"spin\" style={{ color: 'var(--blue)' }} />\r\n                            <div style={{ marginTop: 12, fontSize: 13, color: 'var(--text-muted)' }}>Loading staff...</div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // ===== STAFF PIN SCREEN =====\r\n    if (screen === 'staff-pin') {\r\n        return (\r\n            <div className=\"login-page\">\r\n                <div className=\"login-container\" style={{ maxWidth: 380 }}>\r\n                    <div className=\"login-header animate-in\">\r\n                        <button className=\"login-back-btn\" onClick={handleBack}>\r\n                            <ArrowLeft size={20} />\r\n                        </button>\r\n                        <span className=\"login-header-title\">Staff Login</span>\r\n                        <div style={{ width: 42 }} />\r\n                    </div>\r\n\r\n                    <div className=\"animate-in animate-in-delay-1\" style={{ textAlign: 'center', marginBottom: 24 }}>\r\n                        <div className=\"pin-avatar-ring\">\r\n                            <img src={selectedStaff?.avatar} alt={selectedStaff?.name} className=\"pin-avatar-img\" />\r\n                        </div>\r\n                        <h2 style={{ fontSize: 22, fontWeight: 800, color: 'var(--text-primary)', marginBottom: 2 }}>\r\n                            {selectedStaff?.name}\r\n                        </h2>\r\n                        <button className=\"pin-change-profile\" onClick={handleBack}>\r\n                            Tap to change profile\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"animate-in animate-in-delay-2\" style={{ textAlign: 'center', marginBottom: 20 }}>\r\n                        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: 8, marginBottom: 16 }}>\r\n                            <Fingerprint size={18} color=\"var(--text-muted)\" />\r\n                            <span style={{ fontSize: 13, fontWeight: 700, textTransform: 'uppercase', letterSpacing: 1, color: 'var(--text-muted)' }}>\r\n                                Enter PIN\r\n                            </span>\r\n                        </div>\r\n\r\n                        <div className=\"pin-dots\">\r\n                            {[0, 1, 2, 3].map(i => (\r\n                                <div key={i} className={`pin-dot ${i < pin.length ? 'filled' : ''}`} />\r\n                            ))}\r\n                        </div>\r\n\r\n                        {error && (\r\n                            <div style={{ fontSize: 13, fontWeight: 600, color: 'var(--coral)', marginTop: 8 }}>{error}</div>\r\n                        )}\r\n\r\n                        <div style={{ fontSize: 12, fontWeight: 500, color: 'var(--text-muted)', marginTop: 8 }}>\r\n                            Default PIN: 1234\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"pin-keypad animate-in animate-in-delay-3\">\r\n                        {['1', '2', '3', '4', '5', '6', '7', '8', '9', '', '0', 'del'].map((key, idx) => {\r\n                            if (key === '') return <div key={idx} className=\"pin-key-spacer\" />;\r\n                            if (key === 'del') {\r\n                                return (\r\n                                    <button key={idx} className=\"pin-key pin-key-del\" onClick={handlePinDelete}>\r\n                                        <Delete size={22} />\r\n                                    </button>\r\n                                );\r\n                            }\r\n                            return (\r\n                                <button key={idx} className=\"pin-key\" onClick={() => handlePinPress(key)}>\r\n                                    {key}\r\n                                </button>\r\n                            );\r\n                        })}\r\n                    </div>\r\n\r\n                    {loading && (\r\n                        <div style={{ textAlign: 'center', marginTop: 20 }}>\r\n                            <Loader2 size={28} className=\"spin\" style={{ color: 'var(--blue)' }} />\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // ===== ADMIN LOGIN SCREEN =====\r\n    return (\r\n        <div className=\"login-page\">\r\n            <div className=\"login-container\" style={{ maxWidth: 380 }}>\r\n                <div className=\"login-header animate-in\">\r\n                    <button className=\"login-back-btn\" onClick={handleBack}>\r\n                        <ArrowLeft size={20} />\r\n                    </button>\r\n                    <span className=\"login-header-title\">Admin Login</span>\r\n                    <div style={{ width: 42 }} />\r\n                </div>\r\n\r\n                <div className=\"animate-in animate-in-delay-1\" style={{ textAlign: 'center', marginBottom: 32 }}>\r\n                    <div className=\"login-hero-icon login-hero-icon-lg\" style={{ background: 'var(--blue-light)' }}>\r\n                        <Shield size={36} color=\"#2563eb\" />\r\n                    </div>\r\n                    <h2 style={{ fontSize: 24, fontWeight: 800, color: 'var(--text-primary)', marginBottom: 4 }}>\r\n                        Admin Access\r\n                    </h2>\r\n                    <p style={{ fontSize: 14, color: 'var(--text-muted)', fontWeight: 500 }}>\r\n                        Sign in to manage your society housekeeping\r\n                    </p>\r\n                </div>\r\n\r\n                <form onSubmit={handleAdminLogin} className=\"animate-in animate-in-delay-2\">\r\n                    <div className=\"neu-input-group\" style={{ marginBottom: 16 }}>\r\n                        <label className=\"neu-label\">Username</label>\r\n                        <div className=\"neu-input-wrapper\">\r\n                            <User size={18} style={{ position: 'absolute', left: 14, color: 'var(--text-muted)', zIndex: 1 }} />\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"neu-input\"\r\n                                style={{ paddingLeft: 42 }}\r\n                                placeholder=\"Enter username\"\r\n                                value={username}\r\n                                onChange={e => setUsername(e.target.value)}\r\n                                required\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"neu-input-group\" style={{ marginBottom: 12 }}>\r\n                        <label className=\"neu-label\">Password</label>\r\n                        <div className=\"neu-input-wrapper\">\r\n                            <Lock size={18} style={{ position: 'absolute', left: 14, color: 'var(--text-muted)', zIndex: 1 }} />\r\n                            <input\r\n                                type={showPassword ? 'text' : 'password'}\r\n                                className=\"neu-input\"\r\n                                style={{ paddingLeft: 42 }}\r\n                                placeholder=\"Enter password\"\r\n                                value={password}\r\n                                onChange={e => setPassword(e.target.value)}\r\n                                required\r\n                            />\r\n                            <button\r\n                                type=\"button\"\r\n                                className=\"neu-input-action\"\r\n                                onClick={() => setShowPassword(!showPassword)}\r\n                            >\r\n                                {showPassword ? <EyeOff size={16} /> : <Eye size={16} />}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div style={{ textAlign: 'center', marginBottom: 20 }}>\r\n                        <span style={{ fontSize: 12, fontWeight: 500, color: 'var(--text-muted)' }}>\r\n                            Default: admin / admin123\r\n                        </span>\r\n                    </div>\r\n\r\n                    {error && (\r\n                        <div className=\"login-error\" style={{ marginBottom: 16 }}>{error}</div>\r\n                    )}\r\n\r\n                    <button type=\"submit\" className=\"neu-btn-login\" disabled={loading}>\r\n                        {loading ? (\r\n                            <Loader2 size={20} className=\"spin\" />\r\n                        ) : (\r\n                            <><LogIn size={20} /> Sign In</>\r\n                        )}\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LoginPage;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1108, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/abc/Documents/GitHub/Hijibiji-Society-Clean/types.ts"],"sourcesContent":["export enum UserRole {\r\n  MANAGER = 'MANAGER',\r\n  STAFF = 'STAFF'\r\n}\r\n\r\nexport enum TaskType {\r\n  ROUTINE_HOUSEKEEPING = 'Routine Housekeeping',\r\n  BROOMING = 'Brooming',\r\n  MOPPING = 'Mopping',\r\n  DRIVEWAY = 'Driveway Cleaning',\r\n  GLASS_CLEANING = 'Glass Cleaning',\r\n  STAIRCASE = 'Staircase Cleaning'\r\n}\r\n\r\nexport enum Frequency {\r\n  DAILY = 'Daily',\r\n  WEEKLY = 'Weekly'\r\n}\r\n\r\nexport interface TaskDefinition {\r\n  id: string;\r\n  title: string;\r\n  type: TaskType;\r\n  frequency: Frequency;\r\n  area: string;\r\n  block?: number;\r\n}\r\n\r\nexport interface TaskLog {\r\n  id: string;\r\n  taskId: string;\r\n  staffId: number;\r\n  timestamp: number;\r\n  status: 'COMPLETED' | 'PENDING' | 'VERIFIED' | 'REJECTED';\r\n  imageUrl?: string;\r\n  aiFeedback?: string;\r\n  aiRating?: number;\r\n  block?: number;\r\n  floor?: number;\r\n  flat?: string;\r\n}\r\n\r\nexport interface SupplyRequest {\r\n  id: string;\r\n  item: string;\r\n  quantity: string;\r\n  urgency: 'LOW' | 'MEDIUM' | 'HIGH';\r\n  status: 'OPEN' | 'FULFILLED' | 'REJECTED';\r\n  requesterId: number;\r\n  timestamp: number;\r\n}\r\n\r\nexport interface StaffMember {\r\n  id: number;\r\n  name: string;\r\n  role: 'Housekeeper';\r\n  avatar: string;\r\n  blockAssignment: string;\r\n}\r\n\r\nexport interface PunchLog {\r\n  id: string;\r\n  staffId: number;\r\n  type: 'IN' | 'OUT';\r\n  timestamp: number;\r\n}\r\n\r\nexport const BLOCKS = [1, 2, 3, 4, 5, 6];\r\nexport const FLOORS = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\r\n\r\n// Building structure from floor plans\r\n// Each block has floors, and each floor has flats\r\nexport interface BlockConfig {\r\n  block: number;\r\n  label: string;\r\n  flatsPerFloor: (floor: number) => string[];\r\n}\r\n\r\nconst makeFlats = (letters: string[]): ((floor: number) => string[]) => () => letters;\r\n\r\nexport const BUILDING_STRUCTURE: BlockConfig[] = [\r\n  {\r\n    block: 1,\r\n    label: 'Block 1',\r\n    flatsPerFloor: (floor: number) =>\r\n      floor <= 8\r\n        ? ['A', 'B', 'C', 'D', 'E', 'F']\r\n        : ['A', 'B', 'C'],\r\n  },\r\n  {\r\n    block: 2,\r\n    label: 'Block 2',\r\n    flatsPerFloor: makeFlats(['A', 'B', 'C', 'D']),\r\n  },\r\n  {\r\n    block: 3,\r\n    label: 'Block 3',\r\n    flatsPerFloor: makeFlats(['A', 'B', 'C', 'D', 'E']),\r\n  },\r\n  {\r\n    block: 4,\r\n    label: 'Block 4',\r\n    flatsPerFloor: makeFlats(['A', 'B', 'C', 'D', 'E']),\r\n  },\r\n  {\r\n    block: 5,\r\n    label: 'Block 5',\r\n    flatsPerFloor: makeFlats(['A', 'B', 'C', 'D', 'E']),\r\n  },\r\n  {\r\n    block: 6,\r\n    label: 'Block 6',\r\n    flatsPerFloor: makeFlats(['A', 'B', 'C', 'D']),\r\n  },\r\n];\r\n\r\n// Floor-level task types that staff can perform\r\nexport const FLOOR_TASKS: { type: TaskType; label: string; icon: string; perFlat: boolean }[] = [\r\n  { type: TaskType.ROUTINE_HOUSEKEEPING, label: 'Routine Housekeeping', icon: 'üóëÔ∏è', perFlat: true },\r\n  { type: TaskType.BROOMING, label: 'Lobby Brooming', icon: 'üßπ', perFlat: false },\r\n  { type: TaskType.MOPPING, label: 'Floor Mopping', icon: 'üßº', perFlat: false },\r\n  { type: TaskType.STAIRCASE, label: 'Staircase Cleaning', icon: 'ü™ú', perFlat: false },\r\n];\r\n\r\n// Block-level tasks (one per block, not per-floor)\r\nexport const BLOCK_TASKS: { id: string; type: TaskType; label: string; icon: string }[] = [\r\n  { id: 'glass-entrance', type: TaskType.GLASS_CLEANING, label: 'Entrance Glass Cleaning', icon: 'ü™ü' },\r\n];\r\n\r\n// Common area tasks (not tied to a specific block/floor)\r\nexport const COMMON_TASKS: { id: string; type: TaskType; label: string; icon: string; area: string }[] = [\r\n  { id: 'driveway-broom', type: TaskType.DRIVEWAY, label: 'Driveway Cleaning', icon: 'üöó', area: 'Society Driveway' },\r\n];\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAO,IAAA,AAAK,kCAAA;;;WAAA;;AAKL,IAAA,AAAK,kCAAA;;;;;;;WAAA;;AASL,IAAA,AAAK,mCAAA;;;WAAA;;AAqDL,MAAM,SAAS;IAAC;IAAG;IAAG;IAAG;IAAG;IAAG;CAAE;AACjC,MAAM,SAAS;IAAC;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAI;CAAG;AAU7D,MAAM,YAAY,CAAC,UAAqD,IAAM;AAEvE,MAAM,qBAAoC;IAC/C;QACE,OAAO;QACP,OAAO;QACP,eAAe,CAAC,QACd,SAAS,IACL;gBAAC;gBAAK;gBAAK;gBAAK;gBAAK;gBAAK;aAAI,GAC9B;gBAAC;gBAAK;gBAAK;aAAI;IACvB;IACA;QACE,OAAO;QACP,OAAO;QACP,eAAe,UAAU;YAAC;YAAK;YAAK;YAAK;SAAI;IAC/C;IACA;QACE,OAAO;QACP,OAAO;QACP,eAAe,UAAU;YAAC;YAAK;YAAK;YAAK;YAAK;SAAI;IACpD;IACA;QACE,OAAO;QACP,OAAO;QACP,eAAe,UAAU;YAAC;YAAK;YAAK;YAAK;YAAK;SAAI;IACpD;IACA;QACE,OAAO;QACP,OAAO;QACP,eAAe,UAAU;YAAC;YAAK;YAAK;YAAK;YAAK;SAAI;IACpD;IACA;QACE,OAAO;QACP,OAAO;QACP,eAAe,UAAU;YAAC;YAAK;YAAK;YAAK;SAAI;IAC/C;CACD;AAGM,MAAM,cAAmF;IAC9F;QAAE,IAAI;QAAiC,OAAO;QAAwB,MAAM;QAAO,SAAS;IAAK;IACjG;QAAE,IAAI;QAAqB,OAAO;QAAkB,MAAM;QAAM,SAAS;IAAM;IAC/E;QAAE,IAAI;QAAoB,OAAO;QAAiB,MAAM;QAAM,SAAS;IAAM;IAC7E;QAAE,IAAI;QAAsB,OAAO;QAAsB,MAAM;QAAM,SAAS;IAAM;CACrF;AAGM,MAAM,cAA6E;IACxF;QAAE,IAAI;QAAkB,IAAI;QAA2B,OAAO;QAA2B,MAAM;IAAK;CACrG;AAGM,MAAM,eAA4F;IACvG;QAAE,IAAI;QAAkB,IAAI;QAAqB,OAAO;QAAqB,MAAM;QAAM,MAAM;IAAmB;CACnH"}},
    {"offset": {"line": 1288, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/abc/Documents/GitHub/Hijibiji-Society-Clean/services/collectionsClient.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\r\n\r\nconst collectionsSupabaseUrl = process.env.NEXT_PUBLIC_COLLECTIONS_SUPABASE_URL;\r\nconst collectionsSupabaseAnonKey = process.env.NEXT_PUBLIC_COLLECTIONS_SUPABASE_ANON_KEY;\r\n\r\nlet collectionsClient: any = null;\r\n\r\nif (collectionsSupabaseUrl && collectionsSupabaseAnonKey) {\r\n    collectionsClient = createClient(collectionsSupabaseUrl, collectionsSupabaseAnonKey);\r\n} else {\r\n    console.warn('Collections Supabase credentials missing!');\r\n}\r\n\r\n/**\r\n * Fetches payment status for all flats for the current month.\r\n * Returns a Map where key is Flat_No and value is true (Paid) or false (Unpaid).\r\n * Flats not present in the map should be considered \"Not Found\" / Disabled.\r\n */\r\nexport const fetchFlatPaymentStatus = async (): Promise<Map<string, boolean>> => {\r\n    if (!collectionsClient) return new Map();\r\n\r\n    const now = new Date();\r\n    const month = now.toLocaleString('default', { month: 'long' });\r\n    const year = now.getFullYear();\r\n    const currentMonthColumn = `${month}_${year}`; // e.g. \"February_2026\"\r\n\r\n    // Query table for Flat_No and the current month's column\r\n    const { data, error } = await collectionsClient\r\n        .from('Collections_2026')\r\n        .select(`Flat_No, ${currentMonthColumn}`);\r\n\r\n    if (error) {\r\n        console.error('Error fetching payment status:', error);\r\n        return new Map();\r\n    }\r\n\r\n    const statusMap = new Map<string, boolean>();\r\n\r\n    data.forEach((row: any) => {\r\n        const flatNo = row.Flat_No?.trim();\r\n        if (!flatNo) return;\r\n\r\n        const paymentValue = row[currentMonthColumn];\r\n        // Check if value is 'N/A' or '0' (case-insensitive for N/A just in case)\r\n        const isUnpaid =\r\n            paymentValue === 0 ||\r\n            paymentValue === '0' ||\r\n            (typeof paymentValue === 'string' && paymentValue.trim().toUpperCase() === 'N/A');\r\n\r\n        statusMap.set(flatNo, !isUnpaid); // true = Paid, false = Unpaid\r\n    });\r\n\r\n    return statusMap;\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEN,IAAI,oBAAyB;AAE7B,wCAA0D;IACtD,oBAAoB,IAAA,8LAAY,EAAC,wBAAwB;AAC7D;;AASO,MAAM,yBAAyB;IAClC,IAAI,CAAC,mBAAmB,OAAO,IAAI;IAEnC,MAAM,MAAM,IAAI;IAChB,MAAM,QAAQ,IAAI,cAAc,CAAC,WAAW;QAAE,OAAO;IAAO;IAC5D,MAAM,OAAO,IAAI,WAAW;IAC5B,MAAM,qBAAqB,GAAG,MAAM,CAAC,EAAE,MAAM,EAAE,uBAAuB;IAEtE,yDAAyD;IACzD,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,kBACzB,IAAI,CAAC,oBACL,MAAM,CAAC,CAAC,SAAS,EAAE,oBAAoB;IAE5C,IAAI,OAAO;QACP,QAAQ,KAAK,CAAC,kCAAkC;QAChD,OAAO,IAAI;IACf;IAEA,MAAM,YAAY,IAAI;IAEtB,KAAK,OAAO,CAAC,CAAC;QACV,MAAM,SAAS,IAAI,OAAO,EAAE;QAC5B,IAAI,CAAC,QAAQ;QAEb,MAAM,eAAe,GAAG,CAAC,mBAAmB;QAC5C,yEAAyE;QACzE,MAAM,WACF,iBAAiB,KACjB,iBAAiB,OAChB,OAAO,iBAAiB,YAAY,aAAa,IAAI,GAAG,WAAW,OAAO;QAE/E,UAAU,GAAG,CAAC,QAAQ,CAAC,WAAW,8BAA8B;IACpE;IAEA,OAAO;AACX"}},
    {"offset": {"line": 1330, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/abc/Documents/GitHub/Hijibiji-Society-Clean/components/Dashboard.tsx"],"sourcesContent":["import React from 'react';\r\nimport { TaskLog, StaffMember, TaskDefinition, Frequency, SupplyRequest, PunchLog, BUILDING_STRUCTURE, FLOORS, FLOOR_TASKS, BLOCK_TASKS, COMMON_TASKS, TaskType } from '../types';\r\nimport { Check, X, MapPin, TrendingUp, Download, Plus, UserPlus } from 'lucide-react';\r\nimport { insertStaffMember, verifyStaffPin } from '../services/supabaseDB';\r\nimport { fetchFlatPaymentStatus } from '../services/collectionsClient';\r\n\r\ninterface DashboardProps {\r\n  logs: TaskLog[];\r\n  tasks: TaskDefinition[];\r\n  supplyRequests: SupplyRequest[];\r\n  onApproveSupply: (id: string) => void;\r\n  onRejectSupply: (id: string) => void;\r\n  staffMembers: StaffMember[];\r\n  punchLogs: PunchLog[];\r\n  onNavigate: (tab: string) => void;\r\n  onExport: () => void;\r\n}\r\n\r\nconst DonutChart: React.FC<{ percentage: number; size?: number; strokeWidth?: number }> = ({\r\n  percentage, size = 160, strokeWidth = 14\r\n}) => {\r\n  const radius = (size - strokeWidth) / 2;\r\n  const circumference = 2 * Math.PI * radius;\r\n  const offset = circumference - (percentage / 100) * circumference;\r\n\r\n  return (\r\n    <div className=\"progress-ring-container\" style={{ width: size, height: size }}>\r\n      <svg width={size} height={size} style={{ transform: 'rotate(-90deg)' }}>\r\n        <circle cx={size / 2} cy={size / 2} r={radius} fill=\"none\" stroke=\"var(--neu-dark)\" strokeWidth={strokeWidth} />\r\n        <circle\r\n          cx={size / 2} cy={size / 2} r={radius} fill=\"none\"\r\n          stroke=\"url(#gradient)\" strokeWidth={strokeWidth}\r\n          strokeDasharray={circumference} strokeDashoffset={offset}\r\n          strokeLinecap=\"round\"\r\n          style={{ transition: 'stroke-dashoffset 1s ease-out' }}\r\n        />\r\n        <defs>\r\n          <linearGradient id=\"gradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\r\n            <stop offset=\"0%\" stopColor=\"#3b82f6\" />\r\n            <stop offset=\"100%\" stopColor=\"#10b981\" />\r\n          </linearGradient>\r\n        </defs>\r\n      </svg>\r\n      <div style={{ position: 'absolute', display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n        <div style={{ width: 48, height: 48, borderRadius: 14, background: 'var(--blue-light)', display: 'flex', alignItems: 'center', justifyContent: 'center', marginBottom: 6 }}>\r\n          <TrendingUp size={22} color=\"#3b82f6\" />\r\n        </div>\r\n        <span style={{ fontSize: 10, fontWeight: 700, color: 'var(--text-muted)', textTransform: 'uppercase', letterSpacing: 0.5 }}>Live Feed</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Dashboard: React.FC<DashboardProps> = ({\r\n  logs, tasks, supplyRequests, onApproveSupply, onRejectSupply, staffMembers, punchLogs, onNavigate, onExport\r\n}) => {\r\n  const [showAddStaffModal, setShowAddStaffModal] = React.useState(false);\r\n  const [selectedStaff, setSelectedStaff] = React.useState<StaffMember | null>(null);\r\n  const [pin, setPin] = React.useState('');\r\n  const [isAuthenticated, setIsAuthenticated] = React.useState(false);\r\n  const [newStaff, setNewStaff] = React.useState({ name: '', role: 'Housekeeper', blockAssignment: '', avatar: '' });\r\n  const [addingStaff, setAddingStaff] = React.useState(false);\r\n  const [paymentStatus, setPaymentStatus] = React.useState<Map<string, boolean>>(new Map());\r\n  const [loadingPayment, setLoadingPayment] = React.useState(true);\r\n  const today = new Date().setHours(0, 0, 0, 0);\r\n  const todaysLogs = logs.filter(l => l.timestamp >= today);\r\n\r\n  React.useEffect(() => {\r\n    fetchFlatPaymentStatus().then((map) => {\r\n      setPaymentStatus(map);\r\n      setLoadingPayment(false);\r\n    });\r\n  }, []);\r\n\r\n  const totalDailyTasks = React.useMemo(() => {\r\n    if (loadingPayment) return 0;\r\n    let total = 0;\r\n    // 1. Common Area Tasks\r\n    total += COMMON_TASKS.length;\r\n\r\n    BUILDING_STRUCTURE.forEach(block => {\r\n      // 2. Block Level Tasks\r\n      total += BLOCK_TASKS.length;\r\n\r\n      FLOORS.forEach(floor => {\r\n        const flats = block.flatsPerFloor(floor);\r\n        // 3. Per-Flat Tasks (Active ONLY)\r\n        const activeFlats = flats.filter(flat => {\r\n          const key = `${block.block}${flat}${floor}`;\r\n          return paymentStatus.has(key) && paymentStatus.get(key) === true;\r\n        });\r\n        total += FLOOR_TASKS.filter(t => t.perFlat).length * activeFlats.length;\r\n        // 4. Per-Floor Tasks\r\n        total += FLOOR_TASKS.filter(t => !t.perFlat).length;\r\n      });\r\n    });\r\n    return total;\r\n  }, [loadingPayment, paymentStatus]);\r\n\r\n  const completedDaily = todaysLogs.filter(l => {\r\n    if (l.status !== 'COMPLETED') return false;\r\n    // If it's a flat task, valid only if flat is active\r\n    if (l.flat && l.block && l.floor) {\r\n      const key = `${l.block}${l.flat}${l.floor}`;\r\n      // If we have payment status loaded, restrict to active.\r\n      // If map is empty (loading or error), maybe be lenient?\r\n      // But for \"progress\" consistency, let's match the total: strict check.\r\n      if (!loadingPayment && paymentStatus.size > 0) {\r\n        return paymentStatus.get(key) === true;\r\n      }\r\n    }\r\n    return true;\r\n  }).length;\r\n\r\n  const progress = totalDailyTasks > 0 ? Math.round((completedDaily / totalDailyTasks) * 100) : 0;\r\n\r\n  const activeStats = React.useMemo(() => {\r\n    if (loadingPayment) return { garbage: { done: 0, total: 0 }, brooming: { done: 0, total: 0 } };\r\n\r\n    let garbageTotal = 0;\r\n    let broomingTotal = 0;\r\n\r\n    // Calculate Totals based on Active Flats / Floors\r\n    BUILDING_STRUCTURE.forEach(block => {\r\n      FLOORS.forEach(floor => {\r\n        // Garbage: Per Active Flat\r\n        const flats = block.flatsPerFloor(floor);\r\n        const activeFlats = flats.filter(flat => {\r\n          const key = `${block.block}${flat}${floor}`;\r\n          return paymentStatus.has(key) && paymentStatus.get(key) === true;\r\n        });\r\n        // Assuming 1 Routine Housekeeping task per flat\r\n        garbageTotal += activeFlats.length;\r\n\r\n        // Brooming: Per Floor\r\n        // Check if Brooming exists in FLOOR_TASKS\r\n        if (FLOOR_TASKS.some(t => t.type === TaskType.BROOMING)) {\r\n          broomingTotal += 1;\r\n        }\r\n      });\r\n    });\r\n\r\n    // Calculate Done counts\r\n    // Garbage Done: Status Completed AND TaskType Routine/Garbage AND Flat is Active\r\n    const garbageDone = todaysLogs.filter(l => {\r\n      if (l.status !== 'COMPLETED') return false;\r\n      const isRoutine = l.taskId === TaskType.ROUTINE_HOUSEKEEPING || l.taskId.includes('Routine') || l.taskId.includes('Garbage');\r\n      if (!isRoutine) return false;\r\n\r\n      // Strict Active Check\r\n      if (l.flat && l.block && l.floor) {\r\n        const key = `${l.block}${l.flat}${l.floor}`;\r\n        return paymentStatus.get(key) === true;\r\n      }\r\n      return false;\r\n    }).length;\r\n\r\n    // Brooming Done: Status Completed AND TaskType Brooming\r\n    const broomingDone = todaysLogs.filter(l => {\r\n      return l.status === 'COMPLETED' && (l.taskId === TaskType.BROOMING || l.taskId.includes('Brooming'));\r\n    }).length;\r\n\r\n    return {\r\n      garbage: { done: garbageDone, total: garbageTotal },\r\n      brooming: { done: broomingDone, total: broomingTotal }\r\n    };\r\n  }, [loadingPayment, paymentStatus, todaysLogs]);\r\n\r\n  const garbagePercent = activeStats.garbage.total > 0 ? Math.round((activeStats.garbage.done / activeStats.garbage.total) * 100) : 0;\r\n  const broomingPercent = activeStats.brooming.total > 0 ? Math.round((activeStats.brooming.done / activeStats.brooming.total) * 100) : 0;\r\n\r\n\r\n  const openRequests = supplyRequests.filter(r => r.status === 'OPEN');\r\n\r\n  const handleAddStaff = async () => {\r\n    if (!newStaff.name || !newStaff.blockAssignment) {\r\n      alert(\"Name and Block Assignment are required\");\r\n      return;\r\n    }\r\n    setAddingStaff(true);\r\n    try {\r\n      await insertStaffMember({\r\n        name: newStaff.name,\r\n        role: 'Housekeeper',\r\n        avatar: newStaff.avatar || `https://ui-avatars.com/api/?name=${encodeURIComponent(newStaff.name)}&background=random`,\r\n        blockAssignment: newStaff.blockAssignment\r\n      });\r\n      setShowAddStaffModal(false);\r\n      setPin('');\r\n      setIsAuthenticated(false);\r\n      setNewStaff({ name: '', role: 'Housekeeper', blockAssignment: '', avatar: '' });\r\n      // Trigger a refresh ideally, but for now relies on parent update or HMR\r\n      alert(\"Staff added successfully!\");\r\n    } catch (e: any) {\r\n      alert(\"Failed to add staff: \" + e.message);\r\n    } finally {\r\n      setAddingStaff(false);\r\n    }\r\n  };\r\n\r\n  const handlePinSubmit = () => {\r\n    if (pin === '1234') { // Hardcoded credential check as requested\r\n      setIsAuthenticated(true);\r\n    } else {\r\n      alert(\"Invalid Credential\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ paddingBottom: 16 }}>\r\n\r\n      {/* Add Staff Modal */}\r\n      {showAddStaffModal && (\r\n        <div style={{\r\n          position: 'fixed', top: 0, left: 0, right: 0, bottom: 0,\r\n          background: 'rgba(0,0,0,0.5)', zIndex: 1000,\r\n          display: 'flex', alignItems: 'center', justifyContent: 'center'\r\n        }}>\r\n          <div className=\"neu-card\" style={{ width: 320, padding: 24, background: 'var(--bg-card)' }}>\r\n            {!isAuthenticated ? (\r\n              <div style={{ display: 'flex', flexDirection: 'column', gap: 16 }}>\r\n                <h3 style={{ margin: 0, textAlign: 'center' }}>Admin Access</h3>\r\n                <input\r\n                  type=\"password\"\r\n                  placeholder=\"Enter Credential PIN\"\r\n                  value={pin}\r\n                  onChange={e => setPin(e.target.value)}\r\n                  style={{\r\n                    padding: 12, borderRadius: 8, border: '1px solid var(--text-muted)',\r\n                    background: 'var(--bg-inset)', color: 'var(--text-primary)', outline: 'none'\r\n                  }}\r\n                />\r\n                <div style={{ display: 'flex', gap: 10 }}>\r\n                  <button onClick={() => setShowAddStaffModal(false)} className=\"btn-ghost\" style={{ flex: 1 }}>Cancel</button>\r\n                  <button onClick={handlePinSubmit} className=\"neu-button\" style={{ flex: 1, color: 'white', background: 'var(--blue)' }}>Verify</button>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div style={{ display: 'flex', flexDirection: 'column', gap: 12 }}>\r\n                <h3 style={{ margin: 0 }}>Add New Staff</h3>\r\n                <input\r\n                  placeholder=\"Staff Name\"\r\n                  value={newStaff.name}\r\n                  onChange={e => setNewStaff({ ...newStaff, name: e.target.value })}\r\n                  style={{ padding: 12, borderRadius: 8, border: 'none', background: 'var(--bg-inset)', color: 'var(--text-primary)' }}\r\n                />\r\n                <input\r\n                  placeholder=\"Block Assignment (e.g., Block 1)\"\r\n                  value={newStaff.blockAssignment}\r\n                  onChange={e => setNewStaff({ ...newStaff, blockAssignment: e.target.value })}\r\n                  style={{ padding: 12, borderRadius: 8, border: 'none', background: 'var(--bg-inset)', color: 'var(--text-primary)' }}\r\n                />\r\n                <div style={{ display: 'flex', gap: 10, marginTop: 8 }}>\r\n                  <button onClick={() => setShowAddStaffModal(false)} className=\"btn-ghost\" style={{ flex: 1 }}>Cancel</button>\r\n                  <button onClick={handleAddStaff} className=\"neu-button\" disabled={addingStaff} style={{ flex: 1, color: 'white', background: 'var(--green)' }}>\r\n                    {addingStaff ? 'Saving...' : 'Save'}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Staff Details Modal */}\r\n      {selectedStaff && (\r\n        <div style={{\r\n          position: 'fixed', top: 0, left: 0, right: 0, bottom: 0,\r\n          background: 'rgba(0,0,0,0.5)', zIndex: 1000,\r\n          display: 'flex', alignItems: 'center', justifyContent: 'center'\r\n        }} onClick={() => setSelectedStaff(null)}>\r\n          <div className=\"neu-card\" style={{ width: 300, padding: 24, background: 'var(--bg-card)', position: 'relative' }} onClick={e => e.stopPropagation()}>\r\n            <button\r\n              onClick={() => setSelectedStaff(null)}\r\n              style={{ position: 'absolute', top: 12, right: 12, background: 'none', border: 'none', cursor: 'pointer', color: 'var(--text-muted)' }}\r\n            >\r\n              <X size={20} />\r\n            </button>\r\n            <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', marginBottom: 20 }}>\r\n              <img src={selectedStaff.avatar} alt={selectedStaff.name} className=\"avatar\" style={{ width: 80, height: 80, marginBottom: 12 }} />\r\n              <h3 style={{ margin: 0, fontSize: 18 }}>{selectedStaff.name}</h3>\r\n              <span style={{ fontSize: 13, color: 'var(--text-muted)' }}>{selectedStaff.role}</span>\r\n            </div>\r\n            <div style={{ display: 'flex', flexDirection: 'column', gap: 12 }}>\r\n              <div style={{ display: 'flex', justifyContent: 'space-between', padding: '10px', background: 'var(--bg-inset)', borderRadius: 8 }}>\r\n                <span style={{ fontSize: 13, fontWeight: 600 }}>Block Assignment</span>\r\n                <span style={{ fontSize: 13 }}>{selectedStaff.blockAssignment}</span>\r\n              </div>\r\n              <div style={{ display: 'flex', justifyContent: 'space-between', padding: '10px', background: 'var(--bg-inset)', borderRadius: 8 }}>\r\n                <span style={{ fontSize: 13, fontWeight: 600 }}>Tasks Today</span>\r\n                <span style={{ fontSize: 13 }}>\r\n                  {logs.filter(l => l.staffId === selectedStaff.id && l.timestamp >= today && l.status === 'COMPLETED').length}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div style={{ marginTop: 20, textAlign: 'center' }}>\r\n              <button className=\"neu-button\" style={{ width: '100%' }} onClick={() => setSelectedStaff(null)}>Close</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* On-Duty Staff */}\r\n      <div className=\"animate-in\" style={{ marginBottom: 24 }}>\r\n        <div className=\"section-header\">\r\n          <span className=\"section-title\">On-Duty Staff</span>\r\n          <button className=\"btn-ghost\" style={{ fontSize: 13, fontWeight: 600, color: 'var(--blue)', padding: '4px 8px' }}>View All</button>\r\n        </div>\r\n        <div style={{ display: 'flex', gap: 20, overflowX: 'auto', paddingBottom: 4 }} className=\"no-scrollbar\">\r\n          <div style={{ display: 'flex', gap: 20, overflowX: 'auto', paddingBottom: 4 }} className=\"no-scrollbar\">\r\n            {staffMembers.filter(s => {\r\n              // Check if staff is punched in today\r\n              const staffPunches = punchLogs\r\n                .filter(p => p.staffId === s.id && p.timestamp >= today)\r\n                .sort((a, b) => b.timestamp - a.timestamp);\r\n              return staffPunches.length > 0 && staffPunches[0].type === 'IN';\r\n            }).length === 0 ? (\r\n              <div style={{ padding: '0 8px', fontSize: 13, color: 'var(--text-muted)', fontStyle: 'italic' }}>\r\n                No staff currently on duty.\r\n              </div>\r\n            ) : (\r\n              <>\r\n                {staffMembers.map(s => {\r\n                  const staffPunches = punchLogs\r\n                    .filter(p => p.staffId === s.id && p.timestamp >= today)\r\n                    .sort((a, b) => b.timestamp - a.timestamp);\r\n                  const isOnDuty = staffPunches.length > 0 && staffPunches[0].type === 'IN';\r\n                  if (!isOnDuty) return null;\r\n\r\n                  const staffTaskCount = todaysLogs.filter(l => l.staffId === s.id && l.status === 'COMPLETED').length;\r\n\r\n                  return (\r\n                    <div key={s.id} onClick={() => setSelectedStaff(s)} style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', gap: 6, minWidth: 72, cursor: 'pointer' }}>\r\n                      <img src={s.avatar} alt={s.name} className=\"avatar avatar-lg\" style={{ width: 56, height: 56 }} />\r\n                      <span style={{ fontSize: 12, fontWeight: 600, color: 'var(--text-primary)', textAlign: 'center', lineHeight: 1.2 }}>\r\n                        {s.name.split(' ')[0]} {s.name.split(' ')[1]?.[0]}.\r\n                      </span>\r\n                      <span style={{ fontSize: 10, fontWeight: 500, color: 'var(--green)' }}>{staffTaskCount} tasks today</span>\r\n                    </div>\r\n                  );\r\n                })}\r\n\r\n                {/* Add Staff Tile */}\r\n                <button\r\n                  onClick={() => setShowAddStaffModal(true)}\r\n                  style={{\r\n                    minWidth: 72, height: 90, display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', gap: 6,\r\n                    background: 'transparent', border: 'none', cursor: 'pointer'\r\n                  }}\r\n                >\r\n                  <div style={{\r\n                    width: 56, height: 56, borderRadius: '50%', background: 'var(--bg-inset)',\r\n                    display: 'flex', alignItems: 'center', justifyContent: 'center', color: 'var(--text-muted)',\r\n                    border: '1px dashed var(--text-muted)'\r\n                  }}>\r\n                    <Plus size={24} />\r\n                  </div>\r\n                  <span style={{ fontSize: 11, fontWeight: 600, color: 'var(--text-muted)' }}>Add New</span>\r\n                </button>\r\n              </>\r\n            )}\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Daily Progress */}\r\n      <div className=\"neu-card-inset animate-in animate-in-delay-1\" style={{ marginBottom: 24, textAlign: 'center', padding: 24 }}>\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: 16 }}>\r\n          <span className=\"section-title\">Daily Progress</span>\r\n          <div style={{ textAlign: 'right' }}>\r\n            <div style={{ fontSize: 28, fontWeight: 800, color: 'var(--text-primary)', lineHeight: 1 }}>{progress}%</div>\r\n            <div style={{ fontSize: 11, fontWeight: 600, color: 'var(--text-muted)', textTransform: 'uppercase', letterSpacing: 0.5 }}>Average</div>\r\n          </div>\r\n        </div>\r\n        <div style={{ display: 'flex', justifyContent: 'center', marginBottom: 16 }}>\r\n          <DonutChart percentage={progress} />\r\n        </div>\r\n        <div style={{ display: 'flex', justifyContent: 'center', gap: 24 }}>\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: 6 }}>\r\n            <div style={{ width: 8, height: 8, borderRadius: '50%', background: 'var(--green)' }} />\r\n            <span style={{ fontSize: 12, fontWeight: 600, color: 'var(--text-secondary)' }}>Garbage: {garbagePercent}%</span>\r\n          </div>\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: 6 }}>\r\n            <div style={{ width: 8, height: 8, borderRadius: '50%', background: 'var(--blue)' }} />\r\n            <span style={{ fontSize: 12, fontWeight: 600, color: 'var(--text-secondary)' }}>Brooming: {broomingPercent}%</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Supplies Status */}\r\n      <div className=\"animate-in animate-in-delay-2\" style={{ marginBottom: 24 }}>\r\n        <div className=\"section-header\">\r\n          <span className=\"section-title\">Supplies Status</span>\r\n          {openRequests.length > 0 && (\r\n            <span className=\"badge badge-green\">{openRequests.length} New Requests</span>\r\n          )}\r\n        </div>\r\n        <div style={{ display: 'flex', flexDirection: 'column', gap: 12 }}>\r\n          {openRequests.length === 0 ? (\r\n            <div style={{ padding: 20, textAlign: 'center', color: 'var(--text-muted)', fontSize: 13, background: 'var(--bg-inset)', borderRadius: 12 }}>\r\n              No pending supply requests.\r\n            </div>\r\n          ) : (\r\n            openRequests.map(req => {\r\n              const staff = staffMembers.find(s => s.id === req.requesterId);\r\n              const ago = Math.round((Date.now() - req.timestamp) / 60000);\r\n              return (\r\n                <SupplyCard\r\n                  key={req.id}\r\n                  item={`${req.item} (${req.quantity})`}\r\n                  requester={staff?.name.split(' ')[0] || 'Staff'}\r\n                  time={`${ago}m ago`}\r\n                  onApprove={() => onApproveSupply(req.id)}\r\n                  onReject={() => onRejectSupply(req.id)}\r\n                />\r\n              );\r\n            })\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Zone Monitoring */}\r\n      <div className=\"animate-in animate-in-delay-3\" style={{ marginBottom: 24 }}>\r\n        <div className=\"section-header\">\r\n          <span className=\"section-title\">Zone Monitoring</span>\r\n        </div>\r\n        <div className=\"neu-card\" style={{ padding: 0, overflow: 'hidden', position: 'relative', height: 180 }}>\r\n          <div style={{\r\n            width: '100%', height: '100%',\r\n            background: 'linear-gradient(135deg, var(--blue-bg) 0%, var(--green-bg) 50%, var(--yellow-bg) 100%)',\r\n            display: 'flex', alignItems: 'flex-end', justifyContent: 'space-between', padding: 16,\r\n            position: 'relative'\r\n          }}>\r\n            <div style={{ position: 'absolute', top: 40, left: '30%', width: 12, height: 12, borderRadius: '50%', background: todaysLogs.some(l => l.block === 1) ? 'var(--green)' : 'var(--red)', boxShadow: '0 0 0 4px rgba(255,255,255,0.2)' }} />\r\n            <div style={{ position: 'absolute', top: 70, left: '50%', width: 12, height: 12, borderRadius: '50%', background: todaysLogs.some(l => l.block === 2) ? 'var(--green)' : 'var(--red)', boxShadow: '0 0 0 4px rgba(255,255,255,0.2)' }} />\r\n            <div style={{ position: 'absolute', top: 55, left: '65%', width: 12, height: 12, borderRadius: '50%', background: todaysLogs.some(l => l.block === 3) ? 'var(--green)' : 'var(--red)', boxShadow: '0 0 0 4px rgba(255,255,255,0.2)' }} />\r\n            <div style={{ position: 'absolute', top: 90, left: '40%', width: 12, height: 12, borderRadius: '50%', background: todaysLogs.some(l => l.block === 4) ? 'var(--green)' : 'var(--red)', boxShadow: '0 0 0 4px rgba(255,255,255,0.2)' }} />\r\n            <div style={{\r\n              background: 'rgba(255,255,255,0.85)', borderRadius: 10, padding: '8px 14px',\r\n              fontSize: 11, fontWeight: 700, color: 'var(--text-secondary)',\r\n              backdropFilter: 'blur(8px)', display: 'flex', alignItems: 'center', gap: 4,\r\n              boxShadow: 'var(--neu-raised-sm)'\r\n            }}>\r\n              <MapPin size={12} /> Live Zone Coverage\r\n            </div>\r\n            <button style={{\r\n              width: 46, height: 46, borderRadius: '50%', background: 'var(--blue)',\r\n              color: 'white', border: 'none', cursor: 'pointer', fontSize: 22,\r\n              display: 'flex', alignItems: 'center', justifyContent: 'center',\r\n              boxShadow: '0 4px 14px rgba(59,130,246,0.4)'\r\n            }}>+</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Management Hub */}\r\n      <div className=\"animate-in animate-in-delay-4\" style={{ marginBottom: 20 }}>\r\n        <div className=\"section-header\">\r\n          <span className=\"section-title\">Management Hub</span>\r\n        </div>\r\n        <div style={{ display: 'flex', flexDirection: 'column', gap: 14 }}>\r\n          <HubCard icon=\"üë§\" title=\"Manage Staff\" desc=\"Add, edit profiles & schedules\" color=\"var(--purple)\" bgColor=\"var(--purple-light)\" onClick={() => onNavigate('STAFF')} />\r\n          <HubCard icon=\"üì¶\" title=\"Inventory Management\" desc=\"Restock alerts & tracking\" color=\"var(--coral)\" bgColor=\"var(--coral-light)\" onClick={() => onNavigate('STOCK')} />\r\n          <HubCard icon=\"üìã\" title=\"System Logs\" desc=\"View all system activities\" color=\"var(--green)\" bgColor=\"var(--green-light)\" onClick={() => onNavigate('LOGS')} />\r\n\r\n          <button\r\n            className=\"neu-card\"\r\n            onClick={onExport}\r\n            style={{\r\n              textAlign: 'center', padding: '18px 16px', cursor: 'pointer', width: '100%',\r\n              fontSize: 15, fontWeight: 700, color: 'var(--text-primary)', fontFamily: 'inherit',\r\n              borderRadius: 'var(--radius)', border: 'none', display: 'flex', alignItems: 'center', justifyContent: 'center', gap: 10\r\n            }}\r\n          >\r\n            <Download size={18} /> Export Monthly Report\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst HubCard: React.FC<{ icon: string; title: string; desc: string; color: string; bgColor: string; onClick: () => void }> = ({ icon, title, desc, bgColor, onClick }) => (\r\n  <div className=\"neu-card\" onClick={onClick} style={{ display: 'flex', alignItems: 'center', gap: 14, padding: '18px 18px', cursor: 'pointer' }}>\r\n    <div style={{\r\n      width: 46, height: 46, borderRadius: 14, background: bgColor,\r\n      display: 'flex', alignItems: 'center', justifyContent: 'center', flexShrink: 0\r\n    }}>\r\n      <span style={{ fontSize: 22 }}>{icon}</span>\r\n    </div>\r\n    <div>\r\n      <div style={{ fontSize: 15, fontWeight: 700, color: 'var(--text-primary)' }}>{title}</div>\r\n      <div style={{ fontSize: 12, fontWeight: 500, color: 'var(--text-muted)' }}>{desc}</div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nconst SupplyCard: React.FC<{ item: string; requester: string; time: string; onApprove: () => void; onReject: () => void }> = ({\r\n  item, requester, time, onApprove, onReject\r\n}) => (\r\n  <div className=\"neu-card\" style={{ display: 'flex', alignItems: 'center', gap: 12, padding: '16px 18px' }}>\r\n    <div style={{\r\n      width: 42, height: 42, borderRadius: 14, background: 'var(--green-light)',\r\n      display: 'flex', alignItems: 'center', justifyContent: 'center', flexShrink: 0\r\n    }}>\r\n      <span style={{ fontSize: 18 }}>üì¶</span>\r\n    </div>\r\n    <div style={{ flex: 1, minWidth: 0 }}>\r\n      <div style={{ fontSize: 14, fontWeight: 700, color: 'var(--text-primary)', whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis' }}>{item}</div>\r\n      <div style={{ fontSize: 11, fontWeight: 500, color: 'var(--text-muted)' }}>Requested by {requester} ¬∑ {time}</div>\r\n    </div>\r\n    <div style={{ display: 'flex', gap: 8, flexShrink: 0 }}>\r\n      <button onClick={onReject} className=\"btn-approve\" style={{ background: 'var(--coral-light)', color: 'var(--coral)' }}>\r\n        <X size={14} />\r\n      </button>\r\n      <button onClick={onApprove} className=\"btn-approve\" style={{ background: 'var(--green-light)', color: 'var(--green)' }}>\r\n        <Check size={14} />\r\n      </button>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Dashboard;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3085, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/abc/Documents/GitHub/Hijibiji-Society-Clean/services/cloudinaryService.ts"],"sourcesContent":["const CLOUD_NAME = 'demodqx39';\r\nconst API_KEY = '936981127134918'; // stored for reference; unsigned uploads don't need this\r\n\r\nexport interface CloudinaryUploadResult {\r\n    secure_url: string;\r\n    public_id: string;\r\n    width: number;\r\n    height: number;\r\n    format: string;\r\n    created_at: string;\r\n}\r\n\r\n/**\r\n * Upload an image to Cloudinary using unsigned upload.\r\n * Unsigned uploads require ONLY the upload_preset ‚Äî no API key needed.\r\n * Make sure you have an unsigned upload preset enabled in Cloudinary settings:\r\n *   Dashboard ‚Üí Settings ‚Üí Upload ‚Üí Upload Presets ‚Üí Add/Enable unsigned preset\r\n */\r\nexport const uploadImageToCloudinary = async (\r\n    base64Data: string,\r\n    folder: string = 'societyclean/proof-of-work'\r\n): Promise<CloudinaryUploadResult> => {\r\n    const url = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`;\r\n\r\n    // Prepare data URI if not already\r\n    const dataUri = base64Data.startsWith('data:')\r\n        ? base64Data\r\n        : `data:image/jpeg;base64,${base64Data}`;\r\n\r\n    const formData = new FormData();\r\n    formData.append('file', dataUri);\r\n    formData.append('upload_preset', 'ml_default');\r\n    formData.append('folder', folder);\r\n    // NOTE: Do NOT include api_key for unsigned uploads ‚Äî it causes authentication errors\r\n\r\n    const response = await fetch(url, {\r\n        method: 'POST',\r\n        body: formData,\r\n    });\r\n\r\n    if (!response.ok) {\r\n        const errorText = await response.text();\r\n        throw new Error(`Cloudinary upload failed (${response.status}): ${errorText}`);\r\n    }\r\n\r\n    const result = await response.json();\r\n    return {\r\n        secure_url: result.secure_url,\r\n        public_id: result.public_id,\r\n        width: result.width,\r\n        height: result.height,\r\n        format: result.format,\r\n        created_at: result.created_at,\r\n    };\r\n};\r\n\r\n"],"names":[],"mappings":";;;;AAAA,MAAM,aAAa;AACnB,MAAM,UAAU,mBAAmB,yDAAyD;AAiBrF,MAAM,0BAA0B,OACnC,YACA,SAAiB,4BAA4B;IAE7C,MAAM,MAAM,CAAC,gCAAgC,EAAE,WAAW,aAAa,CAAC;IAExE,kCAAkC;IAClC,MAAM,UAAU,WAAW,UAAU,CAAC,WAChC,aACA,CAAC,uBAAuB,EAAE,YAAY;IAE5C,MAAM,WAAW,IAAI;IACrB,SAAS,MAAM,CAAC,QAAQ;IACxB,SAAS,MAAM,CAAC,iBAAiB;IACjC,SAAS,MAAM,CAAC,UAAU;IAC1B,sFAAsF;IAEtF,MAAM,WAAW,MAAM,MAAM,KAAK;QAC9B,QAAQ;QACR,MAAM;IACV;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE;QACd,MAAM,YAAY,MAAM,SAAS,IAAI;QACrC,MAAM,IAAI,MAAM,CAAC,0BAA0B,EAAE,SAAS,MAAM,CAAC,GAAG,EAAE,WAAW;IACjF;IAEA,MAAM,SAAS,MAAM,SAAS,IAAI;IAClC,OAAO;QACH,YAAY,OAAO,UAAU;QAC7B,WAAW,OAAO,SAAS;QAC3B,OAAO,OAAO,KAAK;QACnB,QAAQ,OAAO,MAAM;QACrB,QAAQ,OAAO,MAAM;QACrB,YAAY,OAAO,UAAU;IACjC;AACJ"}},
    {"offset": {"line": 3122, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/abc/Documents/GitHub/Hijibiji-Society-Clean/services/imageStamp.ts"],"sourcesContent":["/**\r\n * Stamps date-time text onto an image using Canvas API.\r\n * Returns a new base64 data URL with the timestamp overlay.\r\n */\r\nexport async function stampDateTimeOnImage(base64DataUrl: string, watermarkText?: string): Promise<string> {\r\n    return new Promise((resolve, reject) => {\r\n        const img = new Image();\r\n        img.onload = () => {\r\n            const canvas = document.createElement('canvas');\r\n            canvas.width = img.width;\r\n            canvas.height = img.height;\r\n            const ctx = canvas.getContext('2d');\r\n            if (!ctx) { resolve(base64DataUrl); return; }\r\n\r\n            // Draw original image\r\n            ctx.drawImage(img, 0, 0);\r\n\r\n            // Format current date-time\r\n            const now = new Date();\r\n            const dateStr = now.toLocaleDateString('en-IN', {\r\n                day: '2-digit', month: 'short', year: 'numeric'\r\n            });\r\n            const timeStr = now.toLocaleTimeString('en-IN', {\r\n                hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: true\r\n            });\r\n            const timestampText = `${dateStr}  ${timeStr}`;\r\n\r\n            // Calculate font size relative to image width (roughly 3% of width)\r\n            const fontSize = Math.max(14, Math.round(img.width * 0.035));\r\n            ctx.font = `bold ${fontSize}px 'Arial', sans-serif`;\r\n            const padding = Math.round(fontSize * 0.5);\r\n            const lineHeight = Math.round(fontSize * 1.2);\r\n\r\n            // Measure timestamp\r\n            const timeMetrics = ctx.measureText(timestampText);\r\n            let maxWidth = timeMetrics.width;\r\n\r\n            // Measure watermark text if present\r\n            if (watermarkText) {\r\n                const wmMetrics = ctx.measureText(watermarkText);\r\n                maxWidth = Math.max(maxWidth, wmMetrics.width);\r\n            }\r\n\r\n            const totalHeight = watermarkText ? lineHeight * 2 : lineHeight;\r\n\r\n            // Position: bottom-right corner\r\n            const x = img.width - maxWidth - padding * 2;\r\n            const y = img.height - totalHeight - padding * 2;\r\n\r\n            // Semi-transparent dark background\r\n            ctx.fillStyle = 'rgba(0, 0, 0, 0.6)';\r\n            ctx.beginPath();\r\n            ctx.roundRect(x - padding, y - padding, maxWidth + padding * 2, totalHeight + padding * 2, 6);\r\n            ctx.fill();\r\n\r\n            // White text\r\n            ctx.fillStyle = '#ffffff';\r\n            ctx.textBaseline = 'top';\r\n\r\n            // Draw Watermark (Top line)\r\n            if (watermarkText) {\r\n                ctx.fillText(watermarkText, x, y);\r\n                // Draw Timestamp (Bottom line)\r\n                ctx.fillText(timestampText, x, y + lineHeight);\r\n            } else {\r\n                // Draw Timestamp only\r\n                ctx.fillText(timestampText, x, y);\r\n            }\r\n\r\n            // Convert back to data URL\r\n            resolve(canvas.toDataURL('image/jpeg', 0.9));\r\n        };\r\n        img.onerror = () => resolve(base64DataUrl); // fallback to original\r\n        img.src = base64DataUrl;\r\n    });\r\n}\r\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;AACM,eAAe,qBAAqB,aAAqB,EAAE,aAAsB;IACpF,OAAO,IAAI,QAAQ,CAAC,SAAS;QACzB,MAAM,MAAM,IAAI;QAChB,IAAI,MAAM,GAAG;YACT,MAAM,SAAS,SAAS,aAAa,CAAC;YACtC,OAAO,KAAK,GAAG,IAAI,KAAK;YACxB,OAAO,MAAM,GAAG,IAAI,MAAM;YAC1B,MAAM,MAAM,OAAO,UAAU,CAAC;YAC9B,IAAI,CAAC,KAAK;gBAAE,QAAQ;gBAAgB;YAAQ;YAE5C,sBAAsB;YACtB,IAAI,SAAS,CAAC,KAAK,GAAG;YAEtB,2BAA2B;YAC3B,MAAM,MAAM,IAAI;YAChB,MAAM,UAAU,IAAI,kBAAkB,CAAC,SAAS;gBAC5C,KAAK;gBAAW,OAAO;gBAAS,MAAM;YAC1C;YACA,MAAM,UAAU,IAAI,kBAAkB,CAAC,SAAS;gBAC5C,MAAM;gBAAW,QAAQ;gBAAW,QAAQ;gBAAW,QAAQ;YACnE;YACA,MAAM,gBAAgB,GAAG,QAAQ,EAAE,EAAE,SAAS;YAE9C,oEAAoE;YACpE,MAAM,WAAW,KAAK,GAAG,CAAC,IAAI,KAAK,KAAK,CAAC,IAAI,KAAK,GAAG;YACrD,IAAI,IAAI,GAAG,CAAC,KAAK,EAAE,SAAS,sBAAsB,CAAC;YACnD,MAAM,UAAU,KAAK,KAAK,CAAC,WAAW;YACtC,MAAM,aAAa,KAAK,KAAK,CAAC,WAAW;YAEzC,oBAAoB;YACpB,MAAM,cAAc,IAAI,WAAW,CAAC;YACpC,IAAI,WAAW,YAAY,KAAK;YAEhC,oCAAoC;YACpC,IAAI,eAAe;gBACf,MAAM,YAAY,IAAI,WAAW,CAAC;gBAClC,WAAW,KAAK,GAAG,CAAC,UAAU,UAAU,KAAK;YACjD;YAEA,MAAM,cAAc,gBAAgB,aAAa,IAAI;YAErD,gCAAgC;YAChC,MAAM,IAAI,IAAI,KAAK,GAAG,WAAW,UAAU;YAC3C,MAAM,IAAI,IAAI,MAAM,GAAG,cAAc,UAAU;YAE/C,mCAAmC;YACnC,IAAI,SAAS,GAAG;YAChB,IAAI,SAAS;YACb,IAAI,SAAS,CAAC,IAAI,SAAS,IAAI,SAAS,WAAW,UAAU,GAAG,cAAc,UAAU,GAAG;YAC3F,IAAI,IAAI;YAER,aAAa;YACb,IAAI,SAAS,GAAG;YAChB,IAAI,YAAY,GAAG;YAEnB,4BAA4B;YAC5B,IAAI,eAAe;gBACf,IAAI,QAAQ,CAAC,eAAe,GAAG;gBAC/B,+BAA+B;gBAC/B,IAAI,QAAQ,CAAC,eAAe,GAAG,IAAI;YACvC,OAAO;gBACH,sBAAsB;gBACtB,IAAI,QAAQ,CAAC,eAAe,GAAG;YACnC;YAEA,2BAA2B;YAC3B,QAAQ,OAAO,SAAS,CAAC,cAAc;QAC3C;QACA,IAAI,OAAO,GAAG,IAAM,QAAQ,gBAAgB,uBAAuB;QACnE,IAAI,GAAG,GAAG;IACd;AACJ"}},
    {"offset": {"line": 3202, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/abc/Documents/GitHub/Hijibiji-Society-Clean/components/StaffTaskView.tsx"],"sourcesContent":["import React, { useState, useRef, useCallback, useEffect } from 'react';\r\nimport { TaskLog, StaffMember, TaskType, BUILDING_STRUCTURE, FLOORS, FLOOR_TASKS, COMMON_TASKS, BLOCK_TASKS, BlockConfig } from '../types';\r\nimport { getTaskIcon } from '../constants';\r\nimport { ArrowLeft, Check, Camera, Loader2, ChevronRight, Building2, Layers, X } from 'lucide-react';\r\nimport { uploadImageToCloudinary } from '../services/cloudinaryService';\r\nimport { stampDateTimeOnImage } from '../services/imageStamp';\r\nimport { fetchFlatPaymentStatus } from '../services/collectionsClient';\r\n\r\n// HMR Trigger: Payment Logic Updated\r\ninterface StaffTaskViewProps {\r\n  currentUser: number;\r\n  logs: TaskLog[];\r\n  onLogTask: (log: Omit<TaskLog, 'id'>) => void;\r\n  staffMembers: StaffMember[];\r\n}\r\n\r\ntype NavScreen = 'blocks' | 'floors' | 'tasks';\r\n\r\nconst StaffTaskView: React.FC<StaffTaskViewProps> = ({ currentUser, logs, onLogTask, staffMembers }) => {\r\n  const [screen, setScreen] = useState<NavScreen>('blocks');\r\n  const [selectedBlock, setSelectedBlock] = useState<BlockConfig | null>(null);\r\n  const [selectedFloor, setSelectedFloor] = useState<number | null>(null);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [uploadingTaskKey, setUploadingTaskKey] = useState<string | null>(null);\r\n  const [pendingTask, setPendingTask] = useState<{ taskId: string; taskType: TaskType; flat?: string; block?: number } | null>(null);\r\n  const [cameraOpen, setCameraOpen] = useState(false);\r\n  const videoRef = useRef<HTMLVideoElement>(null);\r\n  const streamRef = useRef<MediaStream | null>(null);\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n  const [paymentStatus, setPaymentStatus] = useState<Map<string, boolean>>(new Map());\r\n  const [loadingPayment, setLoadingPayment] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchFlatPaymentStatus().then((map) => {\r\n      setPaymentStatus(map);\r\n      setLoadingPayment(false);\r\n    });\r\n  }, []);\r\n\r\n  const currentStaff = staffMembers.find(s => s.id === currentUser);\r\n  const today = new Date().setHours(0, 0, 0, 0);\r\n  const todaysLogs = logs.filter(l => l.timestamp >= today);\r\n\r\n  // Check if a specific task is done for block/floor/flat\r\n  const isTaskDone = (block: number, floor: number, taskType: TaskType, flat?: string): boolean => {\r\n    return todaysLogs.some(l =>\r\n      l.block === block &&\r\n      l.floor === floor &&\r\n      l.taskId === taskType &&\r\n      (flat ? l.flat === flat : !l.flat)\r\n    );\r\n  };\r\n\r\n  // Count completions for a block today\r\n  const getBlockCompletionCount = (block: number): { done: number; total: number } => {\r\n    const blockConfig = BUILDING_STRUCTURE.find(b => b.block === block);\r\n    if (!blockConfig) return { done: 0, total: 0 };\r\n\r\n    let total = 0;\r\n    let done = 0;\r\n    FLOORS.forEach(floor => {\r\n      const flats = blockConfig.flatsPerFloor(floor);\r\n      // Per-flat tasks (garbage)\r\n      const perFlatTasks = FLOOR_TASKS.filter(t => t.perFlat);\r\n      total += perFlatTasks.length * flats.length;\r\n      done += perFlatTasks.reduce((acc, t) =>\r\n        acc + flats.filter(f => isTaskDone(block, floor, t.type, f)).length, 0);\r\n      // Non-flat tasks (brooming, mopping, staircase)\r\n      const nonFlatTasks = FLOOR_TASKS.filter(t => !t.perFlat);\r\n      total += nonFlatTasks.length;\r\n      done += nonFlatTasks.filter(t => isTaskDone(block, floor, t.type)).length;\r\n    });\r\n    // Block-level tasks\r\n    total += BLOCK_TASKS.length;\r\n    done += BLOCK_TASKS.filter(t => isBlockTaskDone(t.id, block)).length;\r\n    return { done, total };\r\n  };\r\n\r\n  // Count completions for a floor\r\n  const getFloorCompletionCount = (block: number, floor: number): { done: number; total: number } => {\r\n    const blockConfig = BUILDING_STRUCTURE.find(b => b.block === block);\r\n    if (!blockConfig) return { done: 0, total: 0 };\r\n    const flats = blockConfig.flatsPerFloor(floor);\r\n\r\n    let total = 0;\r\n    let done = 0;\r\n    const perFlatTasks = FLOOR_TASKS.filter(t => t.perFlat);\r\n    total += perFlatTasks.length * flats.length;\r\n    done += perFlatTasks.reduce((acc, t) =>\r\n      acc + flats.filter(f => isTaskDone(block, floor, t.type, f)).length, 0);\r\n    const nonFlatTasks = FLOOR_TASKS.filter(t => !t.perFlat);\r\n    total += nonFlatTasks.length;\r\n    done += nonFlatTasks.filter(t => isTaskDone(block, floor, t.type)).length;\r\n    return { done, total };\r\n  };\r\n\r\n  // Is common task done?\r\n  const isCommonTaskDone = (taskId: string): boolean => {\r\n    return todaysLogs.some(l => l.taskId === taskId);\r\n  };\r\n\r\n  // Is block-level task done for a specific block?\r\n  const isBlockTaskDone = (taskId: string, block: number): boolean => {\r\n    return todaysLogs.some(l => l.taskId === taskId && l.block === block);\r\n  };\r\n\r\n  // Handle back navigation\r\n  const handleBack = () => {\r\n    if (screen === 'tasks') { setScreen('floors'); setSelectedFloor(null); }\r\n    else if (screen === 'floors') { setScreen('blocks'); setSelectedBlock(null); }\r\n  };\r\n\r\n  // Select a block\r\n  const handleBlockSelect = (blockConfig: BlockConfig) => {\r\n    setSelectedBlock(blockConfig);\r\n    setScreen('floors');\r\n  };\r\n\r\n  // Select a floor\r\n  const handleFloorSelect = (floor: number) => {\r\n    setSelectedFloor(floor);\r\n    setScreen('tasks');\r\n  };\r\n\r\n  // Complete a task (non-flat or flat-specific)\r\n  const handleCompleteTask = (taskType: TaskType, flat?: string) => {\r\n    if (!selectedBlock || !selectedFloor) return;\r\n    onLogTask({\r\n      taskId: taskType,\r\n      staffId: currentUser,\r\n      timestamp: Date.now(),\r\n      status: 'COMPLETED',\r\n      block: selectedBlock.block,\r\n      floor: selectedFloor,\r\n      flat: flat || undefined,\r\n    });\r\n  };\r\n\r\n  // Complete a common task\r\n  const handleCompleteCommonTask = (taskId: string) => {\r\n    onLogTask({\r\n      taskId,\r\n      staffId: currentUser,\r\n      timestamp: Date.now(),\r\n      status: 'COMPLETED',\r\n    });\r\n  };\r\n\r\n  // Complete a block-level task\r\n  const handleCompleteBlockTask = (taskId: string, block: number) => {\r\n    onLogTask({\r\n      taskId,\r\n      staffId: currentUser,\r\n      timestamp: Date.now(),\r\n      status: 'COMPLETED',\r\n      block,\r\n    });\r\n  };\r\n\r\n  // Open camera for a task\r\n  const handlePhotoUpload = async (taskId: string, taskType: TaskType, flat?: string, block?: number) => {\r\n    setPendingTask({ taskId, taskType, flat, block });\r\n    setCameraOpen(true);\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({\r\n        video: { facingMode: 'environment', width: { ideal: 1920 }, height: { ideal: 1080 } },\r\n        audio: false,\r\n      });\r\n      streamRef.current = stream;\r\n      // Wait a tick for videoRef to mount\r\n      setTimeout(() => {\r\n        if (videoRef.current) {\r\n          videoRef.current.srcObject = stream;\r\n          videoRef.current.play();\r\n        }\r\n      }, 100);\r\n    } catch (err) {\r\n      console.error(\"Camera error:\", err);\r\n      alert(\"Unable to access camera. Please ensure you have granted camera permissions and are using HTTPS or localhost.\");\r\n      setCameraOpen(false);\r\n      setPendingTask(null);\r\n    }\r\n  };\r\n\r\n  // Stop camera stream\r\n  const stopCamera = useCallback(() => {\r\n    if (streamRef.current) {\r\n      streamRef.current.getTracks().forEach(t => t.stop());\r\n      streamRef.current = null;\r\n    }\r\n    setCameraOpen(false);\r\n  }, []);\r\n\r\n  // Capture photo from live camera feed\r\n  const handleCapturePhoto = async () => {\r\n    if (!videoRef.current || !canvasRef.current || !pendingTask) return;\r\n\r\n    const video = videoRef.current;\r\n    const canvas = canvasRef.current;\r\n    canvas.width = video.videoWidth;\r\n    canvas.height = video.videoHeight;\r\n    const ctx = canvas.getContext('2d');\r\n    if (!ctx) return;\r\n    ctx.drawImage(video, 0, 0);\r\n\r\n    // Stop camera immediately\r\n    stopCamera();\r\n\r\n    const base64String = canvas.toDataURL('image/jpeg', 0.85);\r\n    const taskKey = `${pendingTask.taskType}-${pendingTask.flat || 'area'}`;\r\n    setUploadingTaskKey(taskKey);\r\n    setUploading(true);\r\n\r\n    let imageUrl = base64String;\r\n    try {\r\n      // Stamp date-time and location on the image before upload\r\n      let locationText = '';\r\n      if (pendingTask.flat && selectedBlock) {\r\n        // Flat task: \"Block 3 - Flat B (Floor 1)\"\r\n        locationText = `Block ${selectedBlock.block} - Flat ${pendingTask.flat} (Floor ${selectedFloor})`;\r\n      } else if (selectedFloor && selectedBlock) {\r\n        // Floor area task: \"Block 3 - Floor 1 Lobby\"\r\n        locationText = `Block ${selectedBlock.block} - Floor ${selectedFloor}`;\r\n      } else if (pendingTask.block) {\r\n        // Block task: \"Block 3 Entrance\"\r\n        locationText = `Block ${pendingTask.block}`;\r\n      } else {\r\n        // Common task: \"Clubhouse\" -> \"Clubhouse\"\r\n        const commonTask = COMMON_TASKS.find(t => t.id === pendingTask.taskId);\r\n        locationText = commonTask ? commonTask.area : 'Common Area';\r\n      }\r\n\r\n      const stampedImage = await stampDateTimeOnImage(base64String, locationText);\r\n      const staffName = currentStaff?.name.replace(/\\s+/g, '_') || 'unknown';\r\n\r\n      const blockPart = selectedBlock ? `B${selectedBlock.block}` : 'Common';\r\n      const floorPart = selectedFloor ? `/F${selectedFloor}` : '';\r\n      const folder = `societyclean/${blockPart}${floorPart}/${staffName}`;\r\n\r\n      const uploadResult = await uploadImageToCloudinary(stampedImage, folder);\r\n      imageUrl = uploadResult.secure_url;\r\n    } catch {\r\n      // fallback to base64\r\n    }\r\n\r\n    onLogTask({\r\n      taskId: pendingTask.taskId,\r\n      staffId: currentUser,\r\n      timestamp: Date.now(),\r\n      status: 'COMPLETED',\r\n      imageUrl,\r\n      block: pendingTask.block || (selectedBlock ? selectedBlock.block : undefined),\r\n      floor: selectedFloor || undefined,\r\n      flat: pendingTask.flat || undefined,\r\n    });\r\n\r\n    setUploading(false);\r\n    setUploadingTaskKey(null);\r\n    setPendingTask(null);\r\n  };\r\n\r\n  // ===== RENDER: BLOCK GRID =====\r\n  const renderBlockGrid = () => {\r\n    const overallDone = todaysLogs.length;\r\n    return (\r\n      <div>\r\n        {/* Today's summary */}\r\n        <div className=\"neu-card animate-in\" style={{ marginBottom: 22, padding: 20, display: 'flex', alignItems: 'center', gap: 16 }}>\r\n          <div style={{\r\n            width: 54, height: 54, borderRadius: '50%',\r\n            background: 'linear-gradient(135deg, var(--blue), var(--purple))',\r\n            display: 'flex', alignItems: 'center', justifyContent: 'center',\r\n            color: 'white', fontSize: 16, fontWeight: 800, flexShrink: 0,\r\n            boxShadow: '0 4px 14px rgba(99, 102, 241, 0.3)'\r\n          }}>\r\n            {overallDone}\r\n          </div>\r\n          <div>\r\n            <div style={{ fontSize: 16, fontWeight: 700, color: 'var(--text-primary)' }}>\r\n              {currentStaff ? `Hi, ${currentStaff.name}` : 'My Tasks'}\r\n            </div>\r\n            <div style={{ fontSize: 13, fontWeight: 500, color: 'var(--text-secondary)' }}>\r\n              {overallDone} tasks completed today\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Block Grid */}\r\n        <div className=\"section-header animate-in animate-in-delay-1\">\r\n          <span style={{ fontSize: 17, fontWeight: 700, color: 'var(--text-primary)' }}>Select Block</span>\r\n          <span className=\"section-label\">6 BLOCKS</span>\r\n        </div>\r\n        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: 14, marginBottom: 24 }} className=\"animate-in animate-in-delay-1\">\r\n          {BUILDING_STRUCTURE.map((blockConfig, i) => {\r\n            const { done, total } = getBlockCompletionCount(blockConfig.block);\r\n            const pct = total > 0 ? Math.round((done / total) * 100) : 0;\r\n            return (\r\n              <button\r\n                key={blockConfig.block}\r\n                onClick={() => handleBlockSelect(blockConfig)}\r\n                className=\"neu-card\"\r\n                style={{\r\n                  cursor: 'pointer', textAlign: 'center',\r\n                  padding: 22, display: 'flex', flexDirection: 'column', alignItems: 'center',\r\n                  gap: 10, border: 'none', fontFamily: 'inherit',\r\n                  transition: 'all 0.2s ease',\r\n                  animationDelay: `${i * 60}ms`\r\n                }}\r\n              >\r\n                <div style={{\r\n                  width: 52, height: 52, borderRadius: 16,\r\n                  background: pct === 100\r\n                    ? 'linear-gradient(135deg, #10b981, #059669)'\r\n                    : `linear-gradient(135deg, ${['#6366f1', '#3b82f6', '#f97316', '#06b6d4', '#8b5cf6', '#ec4899'][i]}, ${['#818cf8', '#60a5fa', '#fb923c', '#22d3ee', '#a78bfa', '#f472b6'][i]})`,\r\n                  display: 'flex', alignItems: 'center', justifyContent: 'center', color: 'white',\r\n                  boxShadow: `0 4px 14px ${['rgba(99,102,241,0.3)', 'rgba(59,130,246,0.3)', 'rgba(249,115,22,0.3)', 'rgba(6,182,212,0.3)', 'rgba(139,92,246,0.3)', 'rgba(236,72,153,0.3)'][i]}`\r\n                }}>\r\n                  <Building2 size={24} />\r\n                </div>\r\n                <span style={{ fontSize: 15, fontWeight: 700, color: 'var(--text-primary)' }}>\r\n                  Block {blockConfig.block}\r\n                </span>\r\n                <div style={{ fontSize: 11, fontWeight: 600, color: pct === 100 ? 'var(--green)' : 'var(--text-muted)' }}>\r\n                  {done}/{total} done\r\n                </div>\r\n                {/* Mini progress bar */}\r\n                <div style={{ width: '100%', height: 4, borderRadius: 2, background: 'var(--bg-inset)', overflow: 'hidden' }}>\r\n                  <div style={{ width: `${pct}%`, height: '100%', borderRadius: 2, background: pct === 100 ? 'var(--green)' : 'var(--blue)', transition: 'width 0.3s' }} />\r\n                </div>\r\n              </button>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        {/* Common Tasks */}\r\n        <div className=\"section-header animate-in animate-in-delay-2\">\r\n          <span style={{ fontSize: 17, fontWeight: 700, color: 'var(--text-primary)' }}>Common Areas</span>\r\n          <span className=\"section-label\">DAILY</span>\r\n        </div>\r\n        <div style={{ display: 'flex', flexDirection: 'column', gap: 12 }} className=\"animate-in animate-in-delay-2\">\r\n          {COMMON_TASKS.map(task => {\r\n            const done = isCommonTaskDone(task.id);\r\n            return (\r\n              <div key={task.id} className=\"neu-card\" style={{\r\n                display: 'flex', alignItems: 'center', gap: 14, padding: '14px 18px'\r\n              }}>\r\n                <span style={{ fontSize: 22 }}>{task.icon}</span>\r\n                <div style={{ flex: 1 }}>\r\n                  <div style={{ fontSize: 14, fontWeight: 700, color: 'var(--text-primary)' }}>{task.label}</div>\r\n                  <div style={{ fontSize: 12, fontWeight: 500, color: 'var(--text-muted)' }}>{task.area}</div>\r\n                </div>\r\n                {done ? (\r\n                  <div className=\"check-circle done\"><Check size={14} /></div>\r\n                ) : (\r\n                  <button\r\n                    onClick={() => handlePhotoUpload(task.id, task.type)}\r\n                    style={{\r\n                      background: 'var(--blue)', color: 'white', border: 'none',\r\n                      borderRadius: 10, padding: '8px 14px', fontSize: 12, fontWeight: 700,\r\n                      cursor: 'pointer', fontFamily: 'inherit', display: 'flex', alignItems: 'center', gap: 6\r\n                    }}\r\n                  >\r\n                    <Camera size={14} /> Capture\r\n                  </button>\r\n                )\r\n                }\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div >\r\n    );\r\n  };\r\n\r\n\r\n\r\n  // ===== RENDER: FLOOR PICKER =====\r\n  const renderFloorPicker = () => {\r\n    if (!selectedBlock) return null;\r\n    return (\r\n      <div>\r\n        {/* Header */}\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: 12, marginBottom: 20 }} className=\"animate-in\">\r\n          <button onClick={handleBack} className=\"btn-icon\" style={{ flexShrink: 0 }}>\r\n            <ArrowLeft size={20} />\r\n          </button>\r\n          <div>\r\n            <div style={{ fontSize: 11, fontWeight: 700, textTransform: 'uppercase', letterSpacing: 1, color: 'var(--text-muted)' }}>\r\n              {selectedBlock.label}\r\n            </div>\r\n            <div style={{ fontSize: 18, fontWeight: 800, color: 'var(--text-primary)' }}>\r\n              Select Floor\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Floor List */}\r\n        <div style={{ display: 'flex', flexDirection: 'column', gap: 10 }}>\r\n          {FLOORS.map((floor, i) => {\r\n            const flats = selectedBlock.flatsPerFloor(floor);\r\n\r\n            // Calculate Serviceable Flats\r\n            const serviceableFlats = flats.filter(flat => {\r\n              const key = `${selectedBlock.block}${flat}${floor}`;\r\n              return paymentStatus.has(key) && paymentStatus.get(key) === true;\r\n            });\r\n\r\n            // Calculate Progress for Serviceable items ONLY\r\n            let totalServiceable = 0;\r\n            let doneServiceable = 0;\r\n\r\n            if (serviceableFlats.length > 0) {\r\n              const perFlatTasks = FLOOR_TASKS.filter(t => t.perFlat);\r\n              totalServiceable += perFlatTasks.length * serviceableFlats.length;\r\n              doneServiceable += perFlatTasks.reduce((acc, t) =>\r\n                acc + serviceableFlats.filter(f => isTaskDone(selectedBlock.block, floor, t.type, f)).length, 0);\r\n\r\n              // Add non-flat tasks (Area tasks) if verified?\r\n              // Assuming Area tasks are always required if floor is active\r\n              const nonFlatTasks = FLOOR_TASKS.filter(t => !t.perFlat);\r\n              totalServiceable += nonFlatTasks.length;\r\n              doneServiceable += nonFlatTasks.filter(t => isTaskDone(selectedBlock.block, floor, t.type)).length;\r\n            }\r\n\r\n            // Determine Status\r\n            // RED: No serviceable flats (and not loading)\r\n            const isRed = !loadingPayment && serviceableFlats.length === 0;\r\n\r\n            // GREEN: All serviceable tasks done (and > 0 serviceable)\r\n            const isGreen = !loadingPayment && serviceableFlats.length > 0 && doneServiceable === totalServiceable;\r\n\r\n            // Default: In progress or partial\r\n            // Calculate percentage based on serviceable (or 0 if red)\r\n            const pct = totalServiceable > 0 ? Math.round((doneServiceable / totalServiceable) * 100) : 0;\r\n\r\n            // Style overrides\r\n            const cardStyle = isRed ? {\r\n              background: 'rgba(239, 68, 68, 0.1)',\r\n              border: '1px solid var(--red)'\r\n            } : isGreen ? {\r\n              // Default green-light style\r\n            } : {};\r\n\r\n            return (\r\n              <button\r\n                key={floor}\r\n                onClick={() => handleFloorSelect(floor)}\r\n                className=\"neu-card animate-in\"\r\n                style={{\r\n                  display: 'flex', alignItems: 'center', gap: 14, padding: '14px 18px',\r\n                  cursor: 'pointer', textAlign: 'left', width: '100%',\r\n                  border: 'none', fontFamily: 'inherit',\r\n                  transition: 'all 0.2s ease',\r\n                  animationDelay: `${i * 40}ms`,\r\n                  opacity: isGreen ? 0.7 : 1,\r\n                  ...cardStyle\r\n                }}\r\n              >\r\n                <div style={{\r\n                  width: 42, height: 42, borderRadius: 12, flexShrink: 0,\r\n                  background: isGreen ? 'var(--green-light)' : isRed ? 'var(--red)' : 'var(--bg-inset)',\r\n                  display: 'flex', alignItems: 'center', justifyContent: 'center',\r\n                  color: isGreen ? 'var(--green)' : isRed ? 'white' : 'var(--text-muted)',\r\n                  fontWeight: 800, fontSize: 16\r\n                }}>\r\n                  {isRed ? <X size={20} /> : floor}\r\n                </div>\r\n                <div style={{ flex: 1, minWidth: 0 }}>\r\n                  <div style={{ fontSize: 14, fontWeight: 700, color: 'var(--text-primary)' }}>\r\n                    Floor {floor}\r\n                  </div>\r\n                  <div style={{ fontSize: 12, fontWeight: 500, color: isRed ? 'var(--red)' : 'var(--text-muted)' }}>\r\n                    {isRed ? 'No serviceable flats' : `${serviceableFlats.length} flats ¬∑ ${doneServiceable}/${totalServiceable} tasks`}\r\n                  </div>\r\n                </div>\r\n                {/* Progress */}\r\n                <div style={{ width: 44, textAlign: 'right' }}>\r\n                  {isGreen ? (\r\n                    <div className=\"check-circle done\"><Check size={14} /></div>\r\n                  ) : isRed ? (\r\n                    <span style={{ fontSize: 11, fontWeight: 700, color: 'var(--red)' }}>LOCKED</span>\r\n                  ) : (\r\n                    <div style={{ display: 'flex', alignItems: 'center', gap: 4, color: 'var(--text-muted)' }}>\r\n                      <span style={{ fontSize: 12, fontWeight: 700 }}>{loadingPayment ? '...' : `${pct}%`}</span>\r\n                      <ChevronRight size={16} />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </button>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        {/* Block-Level Tasks */}\r\n        <div className=\"section-header animate-in animate-in-delay-1\" style={{ marginTop: 20 }}>\r\n          <span style={{ fontSize: 15, fontWeight: 700, color: 'var(--text-primary)' }}>Block Tasks</span>\r\n          <span className=\"section-label\">DAILY</span>\r\n        </div>\r\n        <div style={{ display: 'flex', flexDirection: 'column', gap: 10 }} className=\"animate-in animate-in-delay-2\">\r\n          {BLOCK_TASKS.map(task => {\r\n            const done = isBlockTaskDone(task.id, selectedBlock.block);\r\n            return (\r\n              <div key={task.id} className=\"neu-card\" style={{\r\n                display: 'flex', alignItems: 'center', gap: 14, padding: '14px 18px'\r\n              }}>\r\n                <span style={{ fontSize: 22 }}>{task.icon}</span>\r\n                <div style={{ flex: 1 }}>\r\n                  <div style={{ fontSize: 14, fontWeight: 700, color: 'var(--text-primary)' }}>{task.label}</div>\r\n                  <div style={{ fontSize: 12, fontWeight: 500, color: 'var(--text-muted)' }}>{selectedBlock.label} Entrance</div>\r\n                </div>\r\n                {done ? (\r\n                  <div className=\"check-circle done\"><Check size={14} /></div>\r\n                ) : (\r\n                  <button\r\n                    onClick={() => handlePhotoUpload(task.id, task.type, undefined, selectedBlock.block)}\r\n                    style={{\r\n                      background: 'var(--blue)', color: 'white', border: 'none',\r\n                      borderRadius: 10, padding: '8px 14px', fontSize: 12, fontWeight: 700,\r\n                      cursor: 'pointer', fontFamily: 'inherit', display: 'flex', alignItems: 'center', gap: 6\r\n                    }}\r\n                  >\r\n                    <Camera size={14} /> Capture\r\n                  </button>\r\n                )\r\n                }\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div >\r\n    );\r\n  };\r\n\r\n  // ===== RENDER: FLOOR TASKS =====\r\n  const renderFloorTasks = () => {\r\n    if (!selectedBlock || !selectedFloor) return null;\r\n    const flats = selectedBlock.flatsPerFloor(selectedFloor);\r\n\r\n    return (\r\n      <div>\r\n        {/* Header */}\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: 12, marginBottom: 20 }} className=\"animate-in\">\r\n          <button onClick={handleBack} className=\"btn-icon\" style={{ flexShrink: 0 }}>\r\n            <ArrowLeft size={20} />\r\n          </button>\r\n          <div>\r\n            <div style={{ fontSize: 11, fontWeight: 700, textTransform: 'uppercase', letterSpacing: 1, color: 'var(--text-muted)' }}>\r\n              {selectedBlock.label} ¬∑ Floor {selectedFloor}\r\n            </div>\r\n            <div style={{ fontSize: 18, fontWeight: 800, color: 'var(--text-primary)' }}>\r\n              Floor Tasks\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Per-flat tasks (Garbage Collection) */}\r\n        {FLOOR_TASKS.filter(t => t.perFlat).map(taskDef => (\r\n          <div key={taskDef.type} className=\"animate-in animate-in-delay-1\" style={{ marginBottom: 22 }}>\r\n            <div className=\"section-header\">\r\n              <span style={{ fontSize: 15, fontWeight: 700, color: 'var(--text-primary)' }}>\r\n                {taskDef.icon} {taskDef.label}\r\n              </span>\r\n              <span className=\"section-label\">{flats.length} FLATS</span>\r\n            </div>\r\n            <div style={{ display: 'grid', gridTemplateColumns: `repeat(${Math.min(flats.length, 4)}, 1fr)`, gap: 10 }}>\r\n              {flats.map(flat => {\r\n                const done = isTaskDone(selectedBlock.block, selectedFloor, taskDef.type, flat);\r\n                const flatCode = `${selectedBlock.block}${flat}${selectedFloor}`;\r\n\r\n                const isKnown = paymentStatus.has(flatCode);\r\n                const isPaid = isKnown ? paymentStatus.get(flatCode) : false;\r\n                const isUnpaid = isKnown && !isPaid;\r\n                const isDisabled = !isKnown;\r\n\r\n                const thisKey = `${taskDef.type}-${flat}`;\r\n                const isThisUploading = uploadingTaskKey === thisKey;\r\n\r\n                return (\r\n                  <button\r\n                    key={flat}\r\n                    onClick={() => {\r\n                      if (!done && !isThisUploading && !isUnpaid && !isDisabled) {\r\n                        handlePhotoUpload(taskDef.type, taskDef.type, flat, selectedBlock.block);\r\n                      }\r\n                    }}\r\n                    disabled={done || isThisUploading || isUnpaid || isDisabled}\r\n                    className={done ? 'neu-card' : 'neu-card-inset'}\r\n                    style={{\r\n                      padding: '14px 8px',\r\n                      border: isUnpaid ? '1px solid var(--red)' : isDisabled ? '1px dashed var(--text-muted)' : 'none',\r\n                      fontFamily: 'inherit',\r\n                      cursor: (done || isUnpaid || isDisabled) ? 'default' : 'pointer',\r\n                      display: 'flex', flexDirection: 'column', alignItems: 'center', gap: 6,\r\n                      opacity: (done || isUnpaid || isDisabled) ? 0.7 : 1, transition: 'all 0.2s',\r\n                      background: done ? 'var(--green-light)' : isUnpaid ? 'rgba(239, 68, 68, 0.1)' : isDisabled ? 'rgba(0,0,0,0.05)' : undefined,\r\n                    }}\r\n                  >\r\n                    {isThisUploading ? (\r\n                      <Loader2 size={20} className=\"spin\" style={{ color: 'var(--blue)' }} />\r\n                    ) : done ? (\r\n                      <Check size={20} style={{ color: 'var(--green)' }} />\r\n                    ) : isUnpaid ? (\r\n                      <X size={20} style={{ color: 'var(--red)' }} />\r\n                    ) : isDisabled ? (\r\n                      <div style={{ width: 18, height: 18 }} />\r\n                    ) : (\r\n                      <Camera size={18} style={{ color: 'var(--text-muted)' }} />\r\n                    )}\r\n                    <span style={{ fontSize: 13, fontWeight: 700, color: done ? 'var(--green)' : isUnpaid ? 'var(--red)' : isDisabled ? 'var(--text-muted)' : 'var(--text-primary)' }}>\r\n                      {flat}\r\n                    </span>\r\n                    <span style={{ fontSize: 10, fontWeight: 600, color: isUnpaid ? 'var(--red)' : 'var(--text-muted)' }}>\r\n                      {done ? 'Done' : isUnpaid ? 'Unpaid' : isDisabled ? 'N/A' : 'Tap'}\r\n                    </span>\r\n                  </button>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        ))}\r\n\r\n        {/* Non-flat tasks (Brooming, Mopping, Staircase) */}\r\n        <div className=\"animate-in animate-in-delay-2\" style={{ marginBottom: 22 }}>\r\n          <div className=\"section-header\">\r\n            <span style={{ fontSize: 15, fontWeight: 700, color: 'var(--text-primary)' }}>Area Tasks</span>\r\n            <span className=\"section-label\">LOBBY & STAIRCASE</span>\r\n          </div>\r\n          <div style={{ display: 'flex', flexDirection: 'column', gap: 12 }}>\r\n            {FLOOR_TASKS.filter(t => !t.perFlat).map(taskDef => {\r\n              const done = isTaskDone(selectedBlock.block, selectedFloor, taskDef.type);\r\n              const thisKey = `${taskDef.type}-area`;\r\n              const isThisUploading = uploadingTaskKey === thisKey;\r\n\r\n              return (\r\n                <div key={taskDef.type} className=\"neu-card\" style={{\r\n                  display: 'flex', alignItems: 'center', gap: 14, padding: '14px 18px'\r\n                }}>\r\n                  <span style={{ fontSize: 22 }}>{taskDef.icon}</span>\r\n                  <div style={{ flex: 1 }}>\r\n                    <div style={{ fontSize: 14, fontWeight: 700, color: 'var(--text-primary)' }}>{taskDef.label}</div>\r\n                    <div style={{ fontSize: 12, fontWeight: 500, color: 'var(--text-muted)' }}>\r\n                      {selectedBlock.label} ¬∑ Floor {selectedFloor}\r\n                    </div>\r\n                  </div>\r\n                  {done ? (\r\n                    <div className=\"check-circle done\"><Check size={14} /></div>\r\n                  ) : isThisUploading ? (\r\n                    <Loader2 size={20} className=\"spin\" style={{ color: 'var(--blue)' }} />\r\n                  ) : (\r\n                    <button\r\n                      onClick={() => handlePhotoUpload(taskDef.type, taskDef.type, undefined, selectedBlock.block)}\r\n                      className=\"btn-primary\"\r\n                      style={{\r\n                        background: 'var(--blue)', color: 'white', border: 'none',\r\n                        borderRadius: 10, padding: '8px 16px', fontSize: 13, fontWeight: 700,\r\n                        cursor: 'pointer', fontFamily: 'inherit', display: 'flex', alignItems: 'center', gap: 8\r\n                      }}\r\n                    >\r\n                      <Camera size={16} /> Capture Proof\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // ===== CAMERA MODAL =====\r\n  const renderCameraModal = () => {\r\n    if (!cameraOpen) return null;\r\n    return (\r\n      <div style={{\r\n        position: 'fixed', inset: 0, zIndex: 9999,\r\n        background: '#000', display: 'flex', flexDirection: 'column',\r\n      }}>\r\n        {/* Camera feed */}\r\n        <video\r\n          ref={videoRef}\r\n          autoPlay\r\n          playsInline\r\n          muted\r\n          style={{ flex: 1, width: '100%', objectFit: 'cover' }}\r\n        />\r\n        {/* Hidden canvas for capture */}\r\n        <canvas ref={canvasRef} style={{ display: 'none' }} />\r\n\r\n        {/* Controls overlay */}\r\n        <div style={{\r\n          position: 'absolute', bottom: 0, left: 0, right: 0,\r\n          padding: '24px 0 40px', display: 'flex', justifyContent: 'center', alignItems: 'center',\r\n          background: 'linear-gradient(transparent, rgba(0,0,0,0.8))',\r\n        }}>\r\n          {/* Close button */}\r\n          <button\r\n            onClick={() => { stopCamera(); setPendingTask(null); }}\r\n            style={{\r\n              position: 'absolute', left: 24, top: 24,\r\n              background: 'rgba(255,255,255,0.15)', border: 'none', borderRadius: '50%',\r\n              width: 44, height: 44, display: 'flex', alignItems: 'center', justifyContent: 'center',\r\n              cursor: 'pointer', backdropFilter: 'blur(8px)',\r\n            }}\r\n          >\r\n            <X size={22} style={{ color: 'white' }} />\r\n          </button>\r\n\r\n          {/* Shutter button */}\r\n          <button\r\n            onClick={handleCapturePhoto}\r\n            style={{\r\n              width: 72, height: 72, borderRadius: '50%',\r\n              background: 'white', border: '4px solid rgba(255,255,255,0.4)',\r\n              cursor: 'pointer', boxShadow: '0 0 20px rgba(255,255,255,0.3)',\r\n              transition: 'transform 0.1s',\r\n            }}\r\n            onPointerDown={e => (e.currentTarget.style.transform = 'scale(0.9)')}\r\n            onPointerUp={e => (e.currentTarget.style.transform = 'scale(1)')}\r\n          />\r\n        </div>\r\n\r\n        {/* Task label */}\r\n        <div style={{\r\n          position: 'absolute', top: 0, left: 0, right: 0,\r\n          padding: '48px 20px 16px',\r\n          background: 'linear-gradient(rgba(0,0,0,0.7), transparent)',\r\n          textAlign: 'center',\r\n        }}>\r\n          <div style={{ color: 'white', fontSize: 14, fontWeight: 700 }}>\r\n            üì∏ {pendingTask?.flat ? `Flat ${pendingTask.flat}` : 'Area'} ‚Äî {pendingTask?.taskType}\r\n          </div>\r\n          <div style={{ color: 'rgba(255,255,255,0.6)', fontSize: 12, marginTop: 4 }}>\r\n            Take a live photo as proof of work\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div style={{ paddingBottom: 16 }}>\r\n      {screen === 'blocks' && renderBlockGrid()}\r\n      {screen === 'floors' && renderFloorPicker()}\r\n      {screen === 'tasks' && renderFloorTasks()}\r\n      {renderCameraModal()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StaffTaskView;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4916, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/abc/Documents/GitHub/Hijibiji-Society-Clean/components/SupplyRequest.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { SupplyRequest, StaffMember } from '../types';\r\nimport { Package, Send, Clock, Check } from 'lucide-react';\r\n\r\ninterface SupplyRequestViewProps {\r\n  currentUser: number;\r\n  requests: SupplyRequest[];\r\n  onRequest: (req: Omit<SupplyRequest, 'id'>) => void;\r\n  staffMembers: StaffMember[];\r\n  isManagerView?: boolean;\r\n}\r\n\r\nconst PRESET_ITEMS = [\r\n  'Floor Cleaner Liquid',\r\n  'Garbage Bags (Large)',\r\n  'Heavy Broom',\r\n  'Glass Detergent',\r\n  'Mop Refills',\r\n  'Disinfectant Spray',\r\n];\r\n\r\nconst SupplyRequestView: React.FC<SupplyRequestViewProps> = ({ currentUser, requests, onRequest, staffMembers, isManagerView = false }) => {\r\n  const [item, setItem] = useState('');\r\n  const [quantity, setQuantity] = useState('');\r\n  const [urgency, setUrgency] = useState<'LOW' | 'MEDIUM' | 'HIGH'>('LOW');\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!item || !quantity) return;\r\n\r\n    onRequest({\r\n      item,\r\n      quantity,\r\n      urgency,\r\n      status: 'OPEN',\r\n      requesterId: currentUser,\r\n      timestamp: Date.now()\r\n    });\r\n\r\n    setItem('');\r\n    setQuantity('');\r\n    setUrgency('LOW');\r\n  };\r\n\r\n  return (\r\n    <div style={{ paddingBottom: 16 }}>\r\n\r\n      {/* Quick Select */}\r\n      <div className=\"animate-in\" style={{ marginBottom: 20 }}>\r\n        <div className=\"section-header\">\r\n          <span className=\"section-title\">Quick Request</span>\r\n        </div>\r\n        <div style={{ display: 'flex', flexWrap: 'wrap', gap: 8 }}>\r\n          {PRESET_ITEMS.map(preset => (\r\n            <button\r\n              key={preset}\r\n              onClick={() => setItem(preset)}\r\n              style={{\r\n                padding: '8px 14px', borderRadius: 20, fontSize: 12, fontWeight: 600,\r\n                border: 'none', cursor: 'pointer', fontFamily: 'inherit',\r\n                background: item === preset ? 'var(--green-light)' : 'var(--bg-card)',\r\n                color: item === preset ? '#059669' : 'var(--text-secondary)',\r\n                boxShadow: item === preset ? 'var(--neu-inset-sm)' : 'var(--neu-raised-sm)',\r\n                transition: 'all 0.2s'\r\n              }}\r\n            >\r\n              {preset}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Request Form - Hide for Managers */}\r\n      {!isManagerView && (\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"neu-card animate-in animate-in-delay-1\" style={{ marginBottom: 20, padding: 22 }}>\r\n            <div style={{ display: 'flex', alignItems: 'center', gap: 10, marginBottom: 18, paddingBottom: 14, borderBottom: '1px solid var(--neu-dark)' }}>\r\n              <div style={{\r\n                width: 38, height: 38, borderRadius: 12, background: 'var(--coral)',\r\n                display: 'flex', alignItems: 'center', justifyContent: 'center', color: 'white'\r\n              }}>\r\n                <Package size={16} />\r\n              </div>\r\n              <span style={{ fontSize: 15, fontWeight: 700, color: 'var(--text-primary)' }}>New Request</span>\r\n            </div>\r\n\r\n            <div className=\"neu-input-group\" style={{ marginBottom: 14 }}>\r\n              <label className=\"neu-label\">Item Name</label>\r\n              <div className=\"neu-input-wrapper\">\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"neu-input\"\r\n                  value={item}\r\n                  onChange={(e) => setItem(e.target.value)}\r\n                  placeholder=\"e.g. Floor Cleaner Liquid\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ display: 'flex', gap: 12, marginBottom: 18 }}>\r\n              <div className=\"neu-input-group\" style={{ flex: 1 }}>\r\n                <label className=\"neu-label\">Quantity</label>\r\n                <div className=\"neu-input-wrapper\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"neu-input\"\r\n                    value={quantity}\r\n                    onChange={(e) => setQuantity(e.target.value)}\r\n                    placeholder=\"e.g. 5 Liters\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"neu-input-group\" style={{ width: 110 }}>\r\n                <label className=\"neu-label\">Urgency</label>\r\n                <div className=\"neu-input-wrapper\">\r\n                  <select\r\n                    value={urgency}\r\n                    onChange={(e) => setUrgency(e.target.value as any)}\r\n                    className=\"neu-input\"\r\n                    style={{ cursor: 'pointer', appearance: 'none' }}\r\n                  >\r\n                    <option value=\"LOW\">Low</option>\r\n                    <option value=\"MEDIUM\">Med</option>\r\n                    <option value=\"HIGH\">High</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <button\r\n              type=\"submit\"\r\n              disabled={!item || !quantity}\r\n              className=\"btn btn-coral\"\r\n              style={{\r\n                width: '100%', padding: '14px', fontSize: 14, fontWeight: 700, borderRadius: 14,\r\n                opacity: item && quantity ? 1 : 0.5, display: 'flex', alignItems: 'center', justifyContent: 'center', gap: 8\r\n              }}\r\n            >\r\n              <Send size={16} /> Submit Request\r\n            </button>\r\n          </div>\r\n        </form>\r\n      )}\r\n\r\n      {/* Request History */}\r\n      <div className=\"animate-in animate-in-delay-2\">\r\n        <div className=\"section-header\">\r\n          <span className=\"section-title\">Recent Requests</span>\r\n        </div>\r\n        <div style={{ display: 'flex', flexDirection: 'column', gap: 12 }}>\r\n          {requests.slice().reverse().map(req => (\r\n            <div key={req.id} className=\"neu-card\" style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', padding: '16px 18px' }}>\r\n              <div>\r\n                <div style={{ fontSize: 14, fontWeight: 700, color: 'var(--text-primary)' }}>{req.item}</div>\r\n                <div style={{ display: 'flex', alignItems: 'center', gap: 8, marginTop: 4 }}>\r\n                  <span style={{ fontSize: 12, fontWeight: 500, color: 'var(--text-muted)', background: 'var(--bg-card)', boxShadow: 'var(--neu-inset-sm)', padding: '2px 10px', borderRadius: 8 }}>{req.quantity}</span>\r\n                  <span style={{ fontSize: 12, fontWeight: 600, color: req.urgency === 'HIGH' ? 'var(--coral)' : req.urgency === 'MEDIUM' ? 'var(--yellow)' : 'var(--text-muted)' }}>\r\n                    {req.urgency}\r\n                  </span>\r\n                </div>\r\n                <div style={{ fontSize: 11, color: 'var(--text-muted)', marginTop: 4 }}>\r\n                  By {staffMembers.find(s => s.id === req.requesterId)?.name || 'Staff'}\r\n                </div>\r\n              </div>\r\n              <div>\r\n                {req.status === 'FULFILLED' ? (\r\n                  <span className=\"badge badge-green\" style={{ gap: 4 }}>\r\n                    <Check size={12} /> Done\r\n                  </span>\r\n                ) : (\r\n                  <span className=\"badge badge-yellow\" style={{ gap: 4 }}>\r\n                    <Clock size={12} /> Open\r\n                  </span>\r\n                )}\r\n              </div>\r\n            </div>\r\n          ))}\r\n          {requests.length === 0 && (\r\n            <div className=\"neu-card-inset\" style={{\r\n              textAlign: 'center', padding: '32px 20px', color: 'var(--text-muted)',\r\n              fontSize: 13, fontWeight: 500, fontStyle: 'italic'\r\n            }}>\r\n              No supply requests yet.\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SupplyRequestView;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5479, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/abc/Documents/GitHub/Hijibiji-Society-Clean/components/StaffAttendance.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { PunchLog, StaffMember } from '../types';\r\nimport { Clock, LogIn, LogOut } from 'lucide-react';\r\n\r\ninterface StaffAttendanceProps {\r\n    currentUser: number;\r\n    punchLogs: PunchLog[];\r\n    onPunch: (log: Omit<PunchLog, 'id'>) => void;\r\n    staffMembers: StaffMember[];\r\n    isManagerView?: boolean;\r\n}\r\n\r\nconst StaffAttendance: React.FC<StaffAttendanceProps> = ({ currentUser, punchLogs, onPunch, staffMembers, isManagerView = false }) => {\r\n    const [currentTime, setCurrentTime] = useState(new Date());\r\n    const staff = staffMembers.find(s => s.id === currentUser);\r\n\r\n    useEffect(() => {\r\n        const interval = setInterval(() => setCurrentTime(new Date()), 1000);\r\n        return () => clearInterval(interval);\r\n    }, []);\r\n\r\n    const todayStart = new Date().setHours(0, 0, 0, 0);\r\n\r\n    // If Manager View, show list of all staff statuses\r\n    if (isManagerView) {\r\n        return (\r\n            <div className=\"animate-in\" style={{ paddingBottom: 20 }}>\r\n                <div className=\"section-header\">\r\n                    <span className=\"section-title\">Staff Attendance Overview</span>\r\n                </div>\r\n                <div style={{ display: 'flex', flexDirection: 'column', gap: 12 }}>\r\n                    {staffMembers.map(s => {\r\n                        const sLogs = punchLogs\r\n                            .filter(l => l.staffId === s.id && l.timestamp >= todayStart)\r\n                            .sort((a, b) => b.timestamp - a.timestamp);\r\n                        const isPunchedIn = sLogs[0]?.type === 'IN';\r\n                        const lastPunchTime = sLogs[0] ? new Date(sLogs[0].timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }) : 'N/A';\r\n\r\n                        // Calculate hours\r\n                        let totalMs = 0;\r\n                        const sorted = [...sLogs].sort((a, b) => a.timestamp - b.timestamp);\r\n                        for (let i = 0; i < sorted.length; i++) {\r\n                            if (sorted[i].type === 'IN') {\r\n                                const outTime = sorted[i + 1]?.type === 'OUT' ? sorted[i + 1].timestamp : Date.now();\r\n                                totalMs += outTime - sorted[i].timestamp;\r\n                            }\r\n                        }\r\n                        const hours = Math.floor(totalMs / 3600000); // Simple hours for list\r\n\r\n                        return (\r\n                            <div key={s.id} className=\"neu-card\" style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', padding: '16px' }}>\r\n                                <div style={{ display: 'flex', alignItems: 'center', gap: 12 }}>\r\n                                    <img src={s.avatar} alt={s.name} className=\"avatar\" />\r\n                                    <div>\r\n                                        <div style={{ fontWeight: 700 }}>{s.name}</div>\r\n                                        <div style={{ fontSize: 11, color: 'var(--text-muted)' }}>{s.role}</div>\r\n                                    </div>\r\n                                </div>\r\n                                <div style={{ textAlign: 'right' }}>\r\n                                    <div style={{\r\n                                        fontSize: 12, fontWeight: 700,\r\n                                        color: isPunchedIn ? 'var(--green)' : 'var(--text-muted)',\r\n                                        background: isPunchedIn ? 'var(--green-light)' : 'var(--bg-inset)',\r\n                                        padding: '4px 8px', borderRadius: 6, display: 'inline-block', marginBottom: 4\r\n                                    }}>\r\n                                        {isPunchedIn ? 'ON DUTY' : 'OFF DUTY'}\r\n                                    </div>\r\n                                    <div style={{ fontSize: 11, color: 'var(--text-muted)' }}>\r\n                                        {isPunchedIn ? `Since ${lastPunchTime}` : `Last: ${lastPunchTime}`}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const todaysLogs = punchLogs\r\n        .filter(l => l.staffId === currentUser && l.timestamp >= todayStart)\r\n        .sort((a, b) => b.timestamp - a.timestamp);\r\n\r\n    const lastPunch = todaysLogs[0];\r\n    const isPunchedIn = lastPunch?.type === 'IN';\r\n\r\n    const calculateHoursWorked = (): { hours: number; minutes: number } => {\r\n        let totalMs = 0;\r\n        const sorted = [...todaysLogs].sort((a, b) => a.timestamp - b.timestamp);\r\n        for (let i = 0; i < sorted.length; i++) {\r\n            if (sorted[i].type === 'IN') {\r\n                const outTime = sorted[i + 1]?.type === 'OUT' ? sorted[i + 1].timestamp : Date.now();\r\n                totalMs += outTime - sorted[i].timestamp;\r\n            }\r\n        }\r\n        const totalMin = Math.floor(totalMs / 60000);\r\n        return { hours: Math.floor(totalMin / 60), minutes: totalMin % 60 };\r\n    };\r\n\r\n    const worked = calculateHoursWorked();\r\n    const workPercent = Math.min(100, Math.round(((worked.hours * 60 + worked.minutes) / 480) * 100));\r\n\r\n    const handlePunch = () => {\r\n        onPunch({\r\n            staffId: currentUser,\r\n            type: isPunchedIn ? 'OUT' : 'IN',\r\n            timestamp: Date.now(),\r\n        });\r\n    };\r\n\r\n    const formatTime = (ts: number) => {\r\n        return new Date(ts).toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true });\r\n    };\r\n\r\n    const ringSize = 200;\r\n    const strokeWidth = 16;\r\n    const radius = (ringSize - strokeWidth) / 2;\r\n    const circumference = 2 * Math.PI * radius;\r\n    const offset = circumference - (workPercent / 100) * circumference;\r\n\r\n    return (\r\n        <div style={{ paddingBottom: 16 }}>\r\n\r\n            {/* Staff Name */}\r\n            <div className=\"animate-in\" style={{ textAlign: 'center', marginBottom: 28 }}>\r\n                <div style={{ fontSize: 11, fontWeight: 700, textTransform: 'uppercase', letterSpacing: 1, color: 'var(--text-muted)', marginBottom: 4 }}>\r\n                    STAFF ATTENDANCE\r\n                </div>\r\n                <h2 style={{ fontSize: 22, fontWeight: 800, color: 'var(--text-primary)' }}>\r\n                    {staff?.name || 'Staff'}\r\n                </h2>\r\n            </div>\r\n\r\n            {/* Punch Button */}\r\n            <div className=\"animate-in animate-in-delay-1\" style={{ display: 'flex', justifyContent: 'center', marginBottom: 36 }}>\r\n                <button\r\n                    onClick={handlePunch}\r\n                    className={`neu-punch-btn ${isPunchedIn ? 'punch-out' : 'punch-in'}`}\r\n                >\r\n                    {isPunchedIn ? <LogOut size={36} /> : <LogIn size={36} />}\r\n                    <span style={{ fontSize: 18, fontWeight: 800, textTransform: 'uppercase', letterSpacing: 1.5 }}>\r\n                        {isPunchedIn ? 'PUNCH OUT' : 'PUNCH IN'}\r\n                    </span>\r\n                </button>\r\n            </div>\r\n\r\n            {/* Hours Worked */}\r\n            <div className=\"neu-card-inset animate-in animate-in-delay-2\" style={{ marginBottom: 24, textAlign: 'center', padding: 28 }}>\r\n                <div style={{ fontSize: 11, fontWeight: 700, textTransform: 'uppercase', letterSpacing: 1, color: 'var(--text-muted)', marginBottom: 16 }}>\r\n                    HOURS WORKED TODAY:\r\n                </div>\r\n                <div style={{ display: 'flex', justifyContent: 'center', marginBottom: 12 }}>\r\n                    <div className=\"progress-ring-container\" style={{ width: ringSize, height: ringSize }}>\r\n                        <svg width={ringSize} height={ringSize} style={{ transform: 'rotate(-90deg)' }}>\r\n                            <circle cx={ringSize / 2} cy={ringSize / 2} r={radius} fill=\"none\" stroke=\"var(--neu-dark)\" strokeWidth={strokeWidth} />\r\n                            <circle\r\n                                cx={ringSize / 2} cy={ringSize / 2} r={radius} fill=\"none\"\r\n                                stroke=\"url(#attendanceGradient)\" strokeWidth={strokeWidth}\r\n                                strokeDasharray={circumference} strokeDashoffset={offset}\r\n                                strokeLinecap=\"round\"\r\n                                style={{ transition: 'stroke-dashoffset 1s ease-out' }}\r\n                            />\r\n                            <defs>\r\n                                <linearGradient id=\"attendanceGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\r\n                                    <stop offset=\"0%\" stopColor=\"#3b82f6\" />\r\n                                    <stop offset=\"100%\" stopColor=\"#1d4ed8\" />\r\n                                </linearGradient>\r\n                            </defs>\r\n                        </svg>\r\n                        <div style={{ position: 'absolute', display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n                            <div style={{\r\n                                width: 40, height: 40, borderRadius: '50%', background: 'var(--blue-light)',\r\n                                display: 'flex', alignItems: 'center', justifyContent: 'center', marginBottom: 8\r\n                            }}>\r\n                                <Clock size={18} color=\"#3b82f6\" />\r\n                            </div>\r\n                            <div style={{ fontSize: 28, fontWeight: 800, color: 'var(--text-primary)', lineHeight: 1 }}>\r\n                                {worked.hours}h {worked.minutes.toString().padStart(2, '0')}m\r\n                            </div>\r\n                            <div style={{ fontSize: 11, fontWeight: 700, textTransform: 'uppercase', letterSpacing: 0.5, color: 'var(--text-muted)', marginTop: 4 }}>\r\n                                PROGRESS\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Recent Logs */}\r\n            <div className=\"animate-in animate-in-delay-3\">\r\n                <div className=\"section-header\">\r\n                    <span className=\"section-title\">Recent Logs</span>\r\n                </div>\r\n                <div style={{ display: 'flex', flexDirection: 'column', gap: 12 }}>\r\n                    {todaysLogs.length === 0 ? (\r\n                        <>\r\n                            <PunchEntry type=\"IN\" time=\"9:00 AM\" label=\"Punch In: 9:00 AM\" />\r\n                            <PunchEntry type=\"OUT\" time=\"1:00 PM\" label=\"Punch Out: 1:00 PM\" />\r\n                            <PunchEntry type=\"IN\" time=\"2:00 PM\" label=\"Punch In: 2:00 PM\" />\r\n                        </>\r\n                    ) : (\r\n                        todaysLogs.map(log => (\r\n                            <PunchEntry\r\n                                key={log.id}\r\n                                type={log.type}\r\n                                time={formatTime(log.timestamp)}\r\n                                label={`Punch ${log.type === 'IN' ? 'In' : 'Out'}: ${formatTime(log.timestamp)}`}\r\n                            />\r\n                        ))\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst PunchEntry: React.FC<{ type: 'IN' | 'OUT'; time: string; label: string }> = ({ type, label }) => (\r\n    <div className=\"neu-card\" style={{ display: 'flex', alignItems: 'center', gap: 14, padding: '16px 18px' }}>\r\n        <div style={{\r\n            width: 42, height: 42, borderRadius: 14,\r\n            background: type === 'IN' ? 'var(--green-light)' : 'var(--coral-light)',\r\n            display: 'flex', alignItems: 'center', justifyContent: 'center', flexShrink: 0\r\n        }}>\r\n            {type === 'IN'\r\n                ? <LogIn size={18} color=\"#10b981\" />\r\n                : <LogOut size={18} color=\"#f97066\" />\r\n            }\r\n        </div>\r\n        <div>\r\n            <div style={{ fontSize: 14, fontWeight: 700, color: 'var(--text-primary)' }}>{label}</div>\r\n            <div style={{ fontSize: 12, fontWeight: 500, color: 'var(--text-muted)' }}>\r\n                {type === 'IN' ? 'Clocked in' : 'Clocked out'}\r\n            </div>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default StaffAttendance;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6165, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/abc/Documents/GitHub/Hijibiji-Society-Clean/constants.tsx"],"sourcesContent":["import React from 'react';\r\nimport { TaskType } from './types';\r\nimport {\r\n  Trash2,\r\n  Wind,\r\n  Droplets,\r\n  CarFront,\r\n  Sparkles,\r\n  GalleryVerticalEnd\r\n} from 'lucide-react';\r\n\r\nexport const getTaskIcon = (type: TaskType): React.ReactElement => {\r\n  const iconStyle = { width: 20, height: 20 };\r\n  switch (type) {\r\n    case TaskType.ROUTINE_HOUSEKEEPING: return <Trash2 style={{ ...iconStyle, color: '#ef4444' }} />;\r\n    case TaskType.BROOMING: return <Wind style={{ ...iconStyle, color: '#f97316' }} />;\r\n    case TaskType.MOPPING: return <Droplets style={{ ...iconStyle, color: '#3b82f6' }} />;\r\n    case TaskType.DRIVEWAY: return <CarFront style={{ ...iconStyle, color: '#64748b' }} />;\r\n    case TaskType.GLASS_CLEANING: return <Sparkles style={{ ...iconStyle, color: '#06b6d4' }} />;\r\n    case TaskType.STAIRCASE: return <GalleryVerticalEnd style={{ ...iconStyle, color: '#8b5cf6' }} />;\r\n    default: return <Sparkles style={{ ...iconStyle, color: '#94a3b8' }} />;\r\n  }\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AASO,MAAM,cAAc,CAAC;IAC1B,MAAM,YAAY;QAAE,OAAO;QAAI,QAAQ;IAAG;IAC1C,OAAQ;QACN,KAAK,iHAAQ,CAAC,oBAAoB;YAAE,qBAAO,8OAAC,oNAAM;gBAAC,OAAO;oBAAE,GAAG,SAAS;oBAAE,OAAO;gBAAU;;;;;;QAC3F,KAAK,iHAAQ,CAAC,QAAQ;YAAE,qBAAO,8OAAC,0MAAI;gBAAC,OAAO;oBAAE,GAAG,SAAS;oBAAE,OAAO;gBAAU;;;;;;QAC7E,KAAK,iHAAQ,CAAC,OAAO;YAAE,qBAAO,8OAAC,sNAAQ;gBAAC,OAAO;oBAAE,GAAG,SAAS;oBAAE,OAAO;gBAAU;;;;;;QAChF,KAAK,iHAAQ,CAAC,QAAQ;YAAE,qBAAO,8OAAC,0NAAQ;gBAAC,OAAO;oBAAE,GAAG,SAAS;oBAAE,OAAO;gBAAU;;;;;;QACjF,KAAK,iHAAQ,CAAC,cAAc;YAAE,qBAAO,8OAAC,sNAAQ;gBAAC,OAAO;oBAAE,GAAG,SAAS;oBAAE,OAAO;gBAAU;;;;;;QACvF,KAAK,iHAAQ,CAAC,SAAS;YAAE,qBAAO,8OAAC,4PAAkB;gBAAC,OAAO;oBAAE,GAAG,SAAS;oBAAE,OAAO;gBAAU;;;;;;QAC5F;YAAS,qBAAO,8OAAC,sNAAQ;gBAAC,OAAO;oBAAE,GAAG,SAAS;oBAAE,OAAO;gBAAU;;;;;;IACpE;AACF"}},
    {"offset": {"line": 6269, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/abc/Documents/GitHub/Hijibiji-Society-Clean/components/StaffLogsView.tsx"],"sourcesContent":["\"use client\"\r\nimport React, { useMemo } from 'react';\r\nimport { TaskLog, StaffMember, TaskType } from '../types';\r\nimport { getTaskIcon } from '../constants';\r\nimport { Activity, Calendar, Award, Trash2, Wind, Sparkles } from 'lucide-react';\r\n\r\ninterface StaffLogsViewProps {\r\n    currentUser: number;\r\n    logs: TaskLog[];\r\n    staffMembers: StaffMember[];\r\n    isAdmin?: boolean;\r\n}\r\n\r\nconst StaffLogsView: React.FC<StaffLogsViewProps> = ({ currentUser, logs, staffMembers, isAdmin = false }) => {\r\n    // Filter logs for current user (or all if admin)\r\n    const displayLogs = useMemo(() => {\r\n        if (isAdmin) return logs.sort((a, b) => b.timestamp - a.timestamp);\r\n        return logs.filter(l => l.staffId === currentUser).sort((a, b) => b.timestamp - a.timestamp);\r\n    }, [logs, currentUser, isAdmin]);\r\n\r\n    const today = new Date().setHours(0, 0, 0, 0);\r\n    const weekAgo = new Date().setDate(new Date().getDate() - 7);\r\n\r\n    // Stats calculation\r\n    const stats = useMemo(() => {\r\n        const todayCount = displayLogs.filter(l => l.timestamp >= today).length;\r\n        const weekCount = displayLogs.filter(l => l.timestamp >= weekAgo).length;\r\n\r\n        // Breakdown\r\n        const garbage = displayLogs.filter(l => l.taskId.includes('Routine') || l.taskId.includes('Garbage')).length;\r\n        const brooming = displayLogs.filter(l => l.taskId.includes('broom') || l.taskId.includes('sweep')).length;\r\n        const mopping = displayLogs.filter(l => l.taskId.includes('mop')).length;\r\n        const other = displayLogs.length - garbage - brooming - mopping;\r\n\r\n        return { todayCount, weekCount, breakdown: { garbage, brooming, mopping, other } };\r\n    }, [displayLogs, today, weekAgo]);\r\n\r\n    // Group logs by date\r\n    const groupedLogs = useMemo(() => {\r\n        const groups: { [key: string]: TaskLog[] } = {};\r\n        displayLogs.forEach(log => {\r\n            const date = new Date(log.timestamp).toLocaleDateString('en-IN', {\r\n                day: 'numeric', month: 'short', year: 'numeric'\r\n            });\r\n            if (!groups[date]) groups[date] = [];\r\n            groups[date].push(log);\r\n        });\r\n        return groups;\r\n    }, [displayLogs]);\r\n\r\n    // Helper to determine task label from ID (simple heuristic since task definitions are dynamic now)\r\n    const getTaskLabel = (taskId: string) => {\r\n        if (taskId.includes('garbage')) return 'Garbage Collection';\r\n        if (taskId.includes('broom')) return 'Brooming';\r\n        if (taskId.includes('mop')) return 'Mopping';\r\n        if (taskId.includes('glass')) return 'Glass Cleaning';\r\n        if (taskId.includes('driveway')) return 'Driveway Cleaning';\r\n        return 'Task Completed';\r\n    };\r\n\r\n    const getTaskType = (taskId: string): TaskType => {\r\n        if (taskId.includes('Routine') || taskId.includes('Garbage')) return TaskType.ROUTINE_HOUSEKEEPING;\r\n        if (taskId.includes('broom')) return TaskType.BROOMING;\r\n        if (taskId.includes('mop')) return TaskType.MOPPING;\r\n        if (taskId.includes('glass')) return TaskType.GLASS_CLEANING;\r\n        if (taskId.includes('driveway')) return TaskType.DRIVEWAY;\r\n        return TaskType.GLASS_CLEANING; // Default fallback\r\n    };\r\n\r\n    return (\r\n        <div className=\"animate-in\">\r\n            <div className=\"section-header\">\r\n                <span className=\"section-title\">Performance Overview</span>\r\n                <span className=\"section-label\">LIVE STATS</span>\r\n            </div>\r\n\r\n            {/* Stats Cards */}\r\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: 16, marginBottom: 24 }}>\r\n                <div className=\"neu-card\" style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', textAlign: 'center', padding: '20px 16px' }}>\r\n                    <div style={{\r\n                        width: 48, height: 48, borderRadius: '50%', background: 'var(--green-light)',\r\n                        display: 'flex', alignItems: 'center', justifyContent: 'center', marginBottom: 12,\r\n                        color: 'var(--green)'\r\n                    }}>\r\n                        <Activity size={24} />\r\n                    </div>\r\n                    <div style={{ fontSize: 24, fontWeight: 800, color: 'var(--text-primary)', lineHeight: 1.2 }}>{stats.todayCount}</div>\r\n                    <div style={{ fontSize: 11, fontWeight: 700, color: 'var(--text-muted)', textTransform: 'uppercase', marginTop: 4 }}>Tasks Today</div>\r\n                </div>\r\n\r\n                <div className=\"neu-card\" style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', textAlign: 'center', padding: '20px 16px' }}>\r\n                    <div style={{\r\n                        width: 48, height: 48, borderRadius: '50%', background: 'var(--blue-light)',\r\n                        display: 'flex', alignItems: 'center', justifyContent: 'center', marginBottom: 12,\r\n                        color: 'var(--blue)'\r\n                    }}>\r\n                        <Calendar size={24} />\r\n                    </div>\r\n                    <div style={{ fontSize: 24, fontWeight: 800, color: 'var(--text-primary)', lineHeight: 1.2 }}>{stats.weekCount}</div>\r\n                    <div style={{ fontSize: 11, fontWeight: 700, color: 'var(--text-muted)', textTransform: 'uppercase', marginTop: 4 }}>Tasks This Week</div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Breakdown */}\r\n            <div className=\"neu-card-inset\" style={{ padding: 20, marginBottom: 24 }}>\r\n                <div className=\"section-header\" style={{ marginBottom: 16 }}>\r\n                    <span className=\"section-label\">WORK BREAKDOWN</span>\r\n                </div>\r\n                <div style={{ display: 'flex', justifyContent: 'space-around' }}>\r\n                    <StatItem icon={<Trash2 size={16} />} count={stats.breakdown.garbage} label=\"Garbage\" color=\"var(--red)\" />\r\n                    <StatItem icon={<Wind size={16} />} count={stats.breakdown.brooming} label=\"Brooming\" color=\"var(--orange)\" />\r\n                    <StatItem icon={<Sparkles size={16} />} count={stats.breakdown.mopping} label=\"Mopping\" color=\"var(--blue)\" />\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"section-header\">\r\n                <span className=\"section-title\">Activity History</span>\r\n            </div>\r\n\r\n            {/* History List */}\r\n            <div style={{ display: 'flex', flexDirection: 'column', gap: 24 }}>\r\n            </div>\r\n\r\n\r\n            {/* Simplified Calendar View Placeholder (since actual calendar component is complex, simplified to date picker style for now or just list) \r\n                    Reverting to list as per user request for \"Calendar Format\" which implies a visual calendar is desired.\r\n                    Implementing a simple month view.\r\n                */}\r\n            <CalendarView logs={displayLogs} staffMembers={staffMembers} isAdmin={isAdmin} />\r\n\r\n            {displayLogs.length === 0 && (\r\n                <div style={{ textAlign: 'center', padding: '40px 0', color: 'var(--text-muted)' }}>\r\n                    <div style={{ fontSize: 40, marginBottom: 10 }}>üìú</div>\r\n                    <div style={{ fontWeight: 600 }}>No logs found</div>\r\n                    <div style={{ fontSize: 12 }}>Get started by completing tasks!</div>\r\n                </div>\r\n            )}\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\nconst StatItem: React.FC<{ icon: React.ReactNode; count: number; label: string; color: string }> = ({ icon, count, label, color }) => (\r\n    <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', gap: 6 }}>\r\n        <div style={{\r\n            width: 36, height: 36, borderRadius: 12, background: 'var(--bg-card)',\r\n            boxShadow: 'var(--neu-raised-sm)', display: 'flex', alignItems: 'center', justifyContent: 'center',\r\n            color: color\r\n        }}>\r\n            {icon}\r\n        </div>\r\n        <div style={{ fontSize: 16, fontWeight: 800, color: 'var(--text-primary)' }}>{count}</div>\r\n        <div style={{ fontSize: 10, fontWeight: 600, color: 'var(--text-muted)' }}>{label}</div>\r\n    </div>\r\n);\r\n\r\nconst CalendarView: React.FC<{ logs: TaskLog[]; staffMembers: StaffMember[]; isAdmin: boolean }> = ({ logs, staffMembers, isAdmin }) => {\r\n    const [selectedDate, setSelectedDate] = React.useState(new Date());\r\n\r\n    const daysInMonth = new Date(selectedDate.getFullYear(), selectedDate.getMonth() + 1, 0).getDate();\r\n    const firstDay = new Date(selectedDate.getFullYear(), selectedDate.getMonth(), 1).getDay();\r\n\r\n    const days = Array.from({ length: daysInMonth }, (_, i) => i + 1);\r\n    const blanks = Array.from({ length: firstDay }, (_, i) => i);\r\n\r\n    const selectedDetails = logs.filter(l => {\r\n        const d = new Date(l.timestamp);\r\n        return d.getDate() === selectedDate.getDate() &&\r\n            d.getMonth() === selectedDate.getMonth() &&\r\n            d.getFullYear() === selectedDate.getFullYear();\r\n    });\r\n\r\n    return (\r\n        <div className=\"animate-in\">\r\n            <div className=\"neu-card\" style={{ padding: 20, marginBottom: 20 }}>\r\n                {/* Month Header */}\r\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: 16 }}>\r\n                    <button onClick={() => setSelectedDate(new Date(selectedDate.getFullYear(), selectedDate.getMonth() - 1, 1))} style={{ border: 'none', background: 'none', fontSize: 18, cursor: 'pointer' }}>‚Üê</button>\r\n                    <span style={{ fontSize: 16, fontWeight: 700 }}>{selectedDate.toLocaleDateString('en-IN', { month: 'long', year: 'numeric' })}</span>\r\n                    <button onClick={() => setSelectedDate(new Date(selectedDate.getFullYear(), selectedDate.getMonth() + 1, 1))} style={{ border: 'none', background: 'none', fontSize: 18, cursor: 'pointer' }}>‚Üí</button>\r\n                </div>\r\n\r\n                {/* Grid */}\r\n                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(7, 1fr)', gap: 8, textAlign: 'center' }}>\r\n                    {['S', 'M', 'T', 'W', 'T', 'F', 'S'].map(d => <div key={d} style={{ fontSize: 10, fontWeight: 700, color: 'var(--text-muted)' }}>{d}</div>)}\r\n                    {blanks.map(b => <div key={`blank-${b}`} />)}\r\n                    {days.map(d => {\r\n                        const dateStr = new Date(selectedDate.getFullYear(), selectedDate.getMonth(), d).setHours(0, 0, 0, 0);\r\n                        const hasLogs = logs.some(l => new Date(l.timestamp).setHours(0, 0, 0, 0) === dateStr);\r\n                        const isSelected = d === selectedDate.getDate();\r\n\r\n                        return (\r\n                            <button\r\n                                key={d}\r\n                                onClick={() => setSelectedDate(new Date(selectedDate.getFullYear(), selectedDate.getMonth(), d))}\r\n                                style={{\r\n                                    width: 32, height: 32, borderRadius: '50%', border: 'none', cursor: 'pointer',\r\n                                    background: isSelected ? 'var(--blue)' : hasLogs ? 'var(--green-light)' : 'transparent',\r\n                                    color: isSelected ? 'white' : hasLogs ? 'var(--green)' : 'var(--text-primary)',\r\n                                    fontWeight: isSelected || hasLogs ? 700 : 400,\r\n                                    margin: '0 auto', display: 'flex', alignItems: 'center', justifyContent: 'center'\r\n                                }}\r\n                            >\r\n                                {d}\r\n                            </button>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Selected Day Logs */}\r\n            <div style={{ display: 'flex', flexDirection: 'column', gap: 12 }}>\r\n                {selectedDetails.length === 0 ? (\r\n                    <div style={{ textAlign: 'center', color: 'var(--text-muted)', padding: 20, fontSize: 13 }}>No activity on this date</div>\r\n                ) : (\r\n                    selectedDetails.map(log => {\r\n                        const staff = staffMembers.find(s => s.id === log.staffId);\r\n                        return (\r\n                            <div key={log.id} className=\"neu-card\" style={{ display: 'flex', alignItems: 'center', gap: 14, padding: '14px 16px' }}>\r\n                                <div style={{\r\n                                    width: 36, height: 36, borderRadius: 12, background: 'var(--bg-inset)',\r\n                                    display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: 18,\r\n                                    flexShrink: 0\r\n                                }}>\r\n                                    {getTaskIcon(log.taskId.includes('Routine') ? TaskType.ROUTINE_HOUSEKEEPING : TaskType.GLASS_CLEANING)}\r\n                                </div>\r\n                                <div style={{ flex: 1, minWidth: 0 }}>\r\n                                    <div style={{ fontSize: 14, fontWeight: 700, whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis' }}>{log.taskId}</div>\r\n                                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginTop: 4 }}>\r\n                                        <div style={{ fontSize: 11, color: 'var(--text-muted)' }}>\r\n                                            {new Date(log.timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n                                            {isAdmin && staff && (\r\n                                                <span style={{ color: 'var(--blue)', fontWeight: 600, marginLeft: 6 }}>\r\n                                                    ‚Ä¢ {staff.name.split(' ')[0]}\r\n                                                </span>\r\n                                            )}\r\n                                        </div>\r\n                                        {log.block && (\r\n                                            <div style={{ fontSize: 10, fontWeight: 700, color: 'var(--text-secondary)', background: 'var(--bg-inset)', padding: '2px 6px', borderRadius: 4 }}>\r\n                                                B{log.block} {log.flat ? `- ${log.flat}` : ''}\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    })\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default StaffLogsView;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7080, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/abc/Documents/GitHub/Hijibiji-Society-Clean/App.tsx"],"sourcesContent":["\"use client\"\r\nimport React, { useState, useEffect } from 'react';\r\nimport { LayoutDashboard, Users, Package, BarChart3, Moon, Sun, ClipboardList, LogOut, Loader2, Clock } from 'lucide-react';\r\nimport { SpeedInsights } from \"@vercel/speed-insights/react\";\r\nimport { useAuth } from './contexts/AuthContext';\r\nimport LoginPage from './components/LoginPage';\r\nimport Dashboard from './components/Dashboard';\r\nimport StaffTaskView from './components/StaffTaskView';\r\nimport SupplyRequestView from './components/SupplyRequest';\r\nimport StaffAttendance from './components/StaffAttendance';\r\nimport StaffLogsView from './components/StaffLogsView';\r\nimport { TaskLog, SupplyRequest, PunchLog, StaffMember } from './types';\r\nimport {\r\n  fetchStaffMembers,\r\n  fetchTaskLogs, insertTaskLog,\r\n  fetchPunchLogs, insertPunchLog,\r\n  fetchSupplyRequests, insertSupplyRequest, updateSupplyStatus\r\n} from './services/supabaseDB';\r\n\r\ntype ManagerTab = 'HOME' | 'STAFF' | 'STOCK' | 'LOGS';\r\ntype StaffTab = 'TASKS' | 'ATTENDANCE' | 'STOCK' | 'LOGS';\r\n\r\nconst App: React.FC = () => {\r\n  const { isLoggedIn, role, staffId, staffName, loading: authLoading, logout } = useAuth();\r\n\r\n  const [currentUser, setCurrentUser] = useState<number>(1);\r\n  const [managerTab, setManagerTab] = useState<ManagerTab>('HOME');\r\n  const [staffTab, setStaffTab] = useState<StaffTab>('TASKS');\r\n  const [darkMode, setDarkMode] = useState(false);\r\n  const [currentTime, setCurrentTime] = useState(new Date());\r\n\r\n  // Live clock\r\n  useEffect(() => {\r\n    const timer = setInterval(() => setCurrentTime(new Date()), 1000);\r\n    return () => clearInterval(timer);\r\n  }, []);\r\n\r\n  // All data from Supabase\r\n  const [staffMembers, setStaffMembers] = useState<StaffMember[]>([]);\r\n  const [logs, setLogs] = useState<TaskLog[]>([]);\r\n  const [supplyRequests, setSupplyRequests] = useState<SupplyRequest[]>([]);\r\n  const [punchLogs, setPunchLogs] = useState<PunchLog[]>([]);\r\n  const [dataLoading, setDataLoading] = useState(false);\r\n\r\n  // Set currentUser from auth context\r\n  useEffect(() => {\r\n    if (staffId) setCurrentUser(staffId);\r\n  }, [staffId]);\r\n\r\n  // Fetch ALL data from Supabase when logged in\r\n  useEffect(() => {\r\n    if (!isLoggedIn) return;\r\n    setDataLoading(true);\r\n    Promise.all([\r\n      fetchStaffMembers().catch(() => []),\r\n      fetchTaskLogs().catch(() => []),\r\n      fetchPunchLogs().catch(() => []),\r\n      fetchSupplyRequests().catch(() => []),\r\n    ]).then(([staff, taskLogs, punchData, supplyData]) => {\r\n      setStaffMembers(staff);\r\n      setLogs(taskLogs);\r\n      setPunchLogs(punchData);\r\n      setSupplyRequests(supplyData);\r\n      setDataLoading(false);\r\n    });\r\n  }, [isLoggedIn]);\r\n\r\n  // Dark mode toggle\r\n  const toggleDarkMode = () => {\r\n    setDarkMode(!darkMode);\r\n    document.body.classList.toggle('dark-mode');\r\n  };\r\n\r\n  const handleLogTask = async (log: Omit<TaskLog, 'id'>) => {\r\n    try {\r\n      const saved = await insertTaskLog(log);\r\n      setLogs(prev => [saved, ...prev]);\r\n    } catch {\r\n      const newLog: TaskLog = { ...log, id: Math.random().toString(36).substr(2, 9) };\r\n      setLogs(prev => [newLog, ...prev]);\r\n    }\r\n  };\r\n\r\n  const handleSupplyRequest = async (req: Omit<SupplyRequest, 'id'>) => {\r\n    try {\r\n      const saved = await insertSupplyRequest(req);\r\n      setSupplyRequests(prev => [saved, ...prev]);\r\n    } catch {\r\n      const newReq: SupplyRequest = { ...req, id: Math.random().toString(36).substr(2, 9) };\r\n      setSupplyRequests(prev => [newReq, ...prev]);\r\n    }\r\n  };\r\n\r\n  const handleApproveSupply = async (id: string) => {\r\n    try {\r\n      await updateSupplyStatus(id, 'FULFILLED');\r\n    } catch { /* continue with local update */ }\r\n    setSupplyRequests(prev => prev.map(r => r.id === id ? { ...r, status: 'FULFILLED' as const } : r));\r\n  };\r\n\r\n  const handleRejectSupply = async (id: string) => {\r\n    try {\r\n      await updateSupplyStatus(id, 'REJECTED');\r\n    } catch { /* continue with local update */ }\r\n    setSupplyRequests(prev => prev.map(r => r.id === id ? { ...r, status: 'REJECTED' as const } : r));\r\n  };\r\n\r\n  const handlePunch = async (log: Omit<PunchLog, 'id'>) => {\r\n    try {\r\n      const saved = await insertPunchLog(log);\r\n      setPunchLogs(prev => [saved, ...prev]);\r\n    } catch {\r\n      const newLog: PunchLog = { ...log, id: Math.random().toString(36).substr(2, 9) };\r\n      setPunchLogs(prev => [newLog, ...prev]);\r\n    }\r\n  };\r\n\r\n  const handleExportLogs = () => {\r\n    if (logs.length === 0) {\r\n      alert(\"No logs to export.\");\r\n      return;\r\n    }\r\n\r\n    const headers = [\"Date\", \"Time\", \"Staff\", \"Task\", \"Type\", \"Block\", \"Floor\", \"Flat\", \"Status\"];\r\n    const csvContent = [\r\n      headers.join(\",\"),\r\n      ...logs.map(log => {\r\n        const date = new Date(log.timestamp).toLocaleDateString();\r\n        const time = new Date(log.timestamp).toLocaleTimeString();\r\n        const staff = staffMembers.find(s => s.id === log.staffId)?.name || \"Unknown\";\r\n        return [\r\n          date, time, staff, log.taskId, \"Task\",\r\n          log.block || \"-\", log.floor !== undefined ? log.floor : \"-\", log.flat || \"-\", log.status\r\n        ].join(\",\");\r\n      })\r\n    ].join(\"\\n\");\r\n\r\n    const blob = new Blob([csvContent], { type: \"text/csv;charset=utf-8;\" });\r\n    const link = document.createElement(\"a\");\r\n    const url = URL.createObjectURL(blob);\r\n    link.setAttribute(\"href\", url);\r\n    link.setAttribute(\"download\", `society_logs_${new Date().toISOString().split('T')[0]}.csv`);\r\n    link.style.visibility = 'hidden';\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  };\r\n\r\n  // Auth loading\r\n  if (authLoading) {\r\n    return (\r\n      <div style={{ minHeight: '100vh', display: 'flex', alignItems: 'center', justifyContent: 'center', background: 'var(--bg)' }}>\r\n        <div style={{ textAlign: 'center' }}>\r\n          <Loader2 size={40} className=\"spin\" style={{ color: 'var(--blue)', marginBottom: 16 }} />\r\n          <div style={{ fontSize: 14, fontWeight: 600, color: 'var(--text-muted)' }}>Loading...</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Not logged in\r\n  if (!isLoggedIn) {\r\n    return <LoginPage />;\r\n  }\r\n\r\n  const isAdmin = role === 'admin';\r\n  const displayName = staffName || 'User';\r\n\r\n  const getTitle = () => {\r\n    if (isAdmin) {\r\n      if (managerTab === 'HOME') return 'Admin\\nManagement Hub';\r\n      if (managerTab === 'STAFF') return 'Staff Attendance';\r\n      if (managerTab === 'STOCK') return 'Supplies';\r\n      return 'Reports';\r\n    }\r\n    if (staffTab === 'ATTENDANCE') return 'Staff Attendance';\r\n    if (staffTab === 'STOCK') return 'Supplies';\r\n    return 'My Tasks';\r\n  };\r\n\r\n  const getSubtitle = () => {\r\n    if (isAdmin) {\r\n      if (managerTab === 'HOME') return 'MANAGEMENT';\r\n      if (managerTab === 'STAFF') return 'STAFF ATTENDANCE';\r\n      return '';\r\n    }\r\n    if (staffTab === 'ATTENDANCE') return 'STAFF ATTENDANCE';\r\n    return displayName;\r\n  };\r\n\r\n  const renderContent = () => {\r\n    if (dataLoading) {\r\n      return (\r\n        <div style={{ textAlign: 'center', padding: 60 }}>\r\n          <Loader2 size={32} className=\"spin\" style={{ color: 'var(--blue)' }} />\r\n          <div style={{ marginTop: 12, fontSize: 13, color: 'var(--text-muted)' }}>Loading data...</div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (isAdmin) {\r\n      switch (managerTab) {\r\n        case 'HOME':\r\n          return (\r\n            <Dashboard\r\n              logs={logs}\r\n              tasks={[]}\r\n              supplyRequests={supplyRequests}\r\n              onApproveSupply={handleApproveSupply}\r\n              onRejectSupply={handleRejectSupply}\r\n              staffMembers={staffMembers}\r\n              punchLogs={punchLogs}\r\n              onNavigate={(tab) => setManagerTab(tab as ManagerTab)}\r\n              onExport={handleExportLogs}\r\n            />\r\n          );\r\n        case 'STAFF':\r\n          return <StaffAttendance currentUser={currentUser} punchLogs={punchLogs} onPunch={handlePunch} staffMembers={staffMembers} isManagerView={true} />;\r\n        case 'STOCK':\r\n          return <SupplyRequestView currentUser={currentUser} requests={supplyRequests} onRequest={handleSupplyRequest} staffMembers={staffMembers} isManagerView={true} />;\r\n        case 'LOGS':\r\n          return <StaffLogsView currentUser={currentUser} logs={logs} staffMembers={staffMembers} isAdmin={true} />;\r\n        default:\r\n          return (\r\n            <Dashboard\r\n              logs={logs}\r\n              tasks={[]}\r\n              supplyRequests={supplyRequests}\r\n              onApproveSupply={handleApproveSupply}\r\n              onRejectSupply={handleRejectSupply}\r\n              staffMembers={staffMembers}\r\n              punchLogs={punchLogs}\r\n              onNavigate={(tab) => setManagerTab(tab as ManagerTab)}\r\n              onExport={handleExportLogs}\r\n            />\r\n          );\r\n      }\r\n    }\r\n\r\n    // Staff view\r\n    switch (staffTab) {\r\n      case 'ATTENDANCE':\r\n        return <StaffAttendance currentUser={currentUser} punchLogs={punchLogs} onPunch={handlePunch} staffMembers={staffMembers} />;\r\n      case 'STOCK':\r\n        return <SupplyRequestView currentUser={currentUser} requests={supplyRequests} onRequest={handleSupplyRequest} staffMembers={staffMembers} />;\r\n      case 'LOGS':\r\n        return <StaffLogsView currentUser={currentUser} logs={logs} staffMembers={staffMembers} />;\r\n      case 'TASKS':\r\n      default:\r\n        return <StaffTaskView currentUser={currentUser} logs={logs} onLogTask={handleLogTask} staffMembers={staffMembers} />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ minHeight: '100vh', display: 'flex', flexDirection: 'column', maxWidth: 430, margin: '0 auto', position: 'relative' }}>\r\n      <header className=\"app-header\">\r\n        <div>\r\n          {getSubtitle() && (\r\n            <div style={{ fontSize: 11, fontWeight: 700, textTransform: 'uppercase', letterSpacing: 1, color: 'var(--text-muted)', marginBottom: 2 }}>\r\n              {getSubtitle()}\r\n            </div>\r\n          )}\r\n          <h1 style={{ fontSize: 22, fontWeight: 800, color: 'var(--text-primary)', lineHeight: 1.2, whiteSpace: 'pre-line' }}>\r\n            {getTitle()}\r\n          </h1>\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: 6, marginTop: 6 }}>\r\n            <Clock size={13} style={{ color: 'var(--text-muted)' }} />\r\n            <span style={{ fontSize: 12, fontWeight: 600, color: 'var(--text-secondary)', fontVariantNumeric: 'tabular-nums' }}>\r\n              {currentTime.toLocaleDateString('en-IN', { day: '2-digit', month: 'short', year: 'numeric' })}\r\n              {' ¬∑ '}\r\n              {currentTime.toLocaleTimeString('en-IN', { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: true })}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\r\n          <button className=\"neu-dark-toggle\" onClick={toggleDarkMode}>\r\n            {darkMode ? <Sun size={18} /> : <Moon size={18} />}\r\n          </button>\r\n          <button className=\"neu-logout-btn\" onClick={logout}>\r\n            <LogOut size={14} />\r\n            <span>Logout</span>\r\n          </button>\r\n        </div>\r\n      </header>\r\n\r\n      <main style={{ flex: 1, padding: '0 16px 100px', overflowY: 'auto' }}>\r\n        {renderContent()}\r\n        <SpeedInsights />\r\n      </main>\r\n\r\n      {isAdmin ? (\r\n        <div className=\"bottom-nav\">\r\n          <NavItem icon={<LayoutDashboard size={22} />} label=\"Home\" active={managerTab === 'HOME'} onClick={() => setManagerTab('HOME')} />\r\n          <NavItem icon={<Users size={22} />} label=\"Staff\" active={managerTab === 'STAFF'} onClick={() => setManagerTab('STAFF')} />\r\n          <NavItem icon={<Package size={22} />} label=\"Stock\" active={managerTab === 'STOCK'} onClick={() => setManagerTab('STOCK')} />\r\n          <NavItem icon={<BarChart3 size={22} />} label=\"Logs\" active={managerTab === 'LOGS'} onClick={() => setManagerTab('LOGS')} />\r\n        </div>\r\n      ) : (\r\n        <div className=\"bottom-nav\">\r\n          <NavItem icon={<ClipboardList size={22} />} label=\"Tasks\" active={staffTab === 'TASKS'} onClick={() => setStaffTab('TASKS')} />\r\n          <NavItem icon={<Users size={22} />} label=\"Staff\" active={staffTab === 'ATTENDANCE'} onClick={() => setStaffTab('ATTENDANCE')} />\r\n          <NavItem icon={<Package size={22} />} label=\"Stock\" active={staffTab === 'STOCK'} onClick={() => setStaffTab('STOCK')} />\r\n          <NavItem icon={<BarChart3 size={22} />} label=\"Logs\" active={staffTab === 'LOGS'} onClick={() => setStaffTab('LOGS')} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst NavItem: React.FC<{ icon: React.ReactNode; label: string; active: boolean; onClick: () => void }> = ({ icon, label, active, onClick }) => (\r\n  <button className={`nav-item ${active ? 'active' : ''}`} onClick={onClick}>\r\n    {icon}\r\n    <span>{label}</span>\r\n  </button>\r\n);\r\n\r\nexport default App;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7883, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/abc/Documents/GitHub/Hijibiji-Society-Clean/app/page.tsx"],"sourcesContent":["\"use client\"\r\nimport App from '../App'\r\n\r\nexport default function Home() {\r\n    return <App />\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAGe,SAAS;IACpB,qBAAO,8OAAC,+GAAG;;;;;AACf"}}]
}